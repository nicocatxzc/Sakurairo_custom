{"version":3,"file":"app.js","mappings":"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","sources":["webpack://sakurairo-scripts/webpack/runtime/chunk loaded","webpack://sakurairo-scripts/webpack/runtime/create fake namespace object","webpack://sakurairo-scripts/webpack/runtime/load script","webpack://sakurairo-scripts/./node_modules/.pnpm/color-space@2.3.1/node_modules/color-space/xyz.js","webpack://sakurairo-scripts/./src/common/butterbar.ts","webpack://sakurairo-scripts/./src/app/footer.js","webpack://sakurairo-scripts/./src/app/video.ts","webpack://sakurairo-scripts/./node_modules/.pnpm/color-space@2.3.1/node_modules/color-space/rgb.js","webpack://sakurairo-scripts/./src/app/func.js","webpack://sakurairo-scripts/./src/app/global-func.js","webpack://sakurairo-scripts/./src/common/sakurairo_global.ts","webpack://sakurairo-scripts/./node_modules/.pnpm/lazyload@https+++codeload.github.com+KotoriK+lazyload+tar.gz+82d55720d3076d66f0efa3ee44_01ea938ccf080ecb02a558a8b09e4e8b/node_modules/lazyload/src/lazyload.ts","webpack://sakurairo-scripts/./src/common/lazyload.ts","webpack://sakurairo-scripts/./src/app/effect.js","webpack://sakurairo-scripts/./src/app/animations/medal_effects.js","webpack://sakurairo-scripts/./src/app/search.ts","webpack://sakurairo-scripts/./src/app/index.js","webpack://sakurairo-scripts/./src/app/scroll_handler.ts","webpack://sakurairo-scripts/./src/app/preload_screen.ts","webpack://sakurairo-scripts/./src/app/about_us.ts","webpack://sakurairo-scripts/./src/app/animations/show_up.ts","webpack://sakurairo-scripts/./src/app/post_list.ts","webpack://sakurairo-scripts/./node_modules/.pnpm/@kotorik+palette@3.0.4/node_modules/@kotorik/palette/dist/index.js","webpack://sakurairo-scripts/./node_modules/.pnpm/idb-keyval@6.2.1/node_modules/idb-keyval/dist/index.js","webpack://sakurairo-scripts/./src/app/cache.ts","webpack://sakurairo-scripts/./src/app/coverBackground.ts","webpack://sakurairo-scripts/./node_modules/.pnpm/fg-loadcss@3.1.0/node_modules/fg-loadcss/src/loadCSS.js","webpack://sakurairo-scripts/./src/app/mobile.ts","webpack://sakurairo-scripts/./src/common/cookie.ts","webpack://sakurairo-scripts/./src/app/compatibility.ts","webpack://sakurairo-scripts/./src/app/hitokoto.ts","webpack://sakurairo-scripts/./src/common/code-highlight.js","webpack://sakurairo-scripts/./src/app/typed.ts","webpack://sakurairo-scripts/./src/app/darkmode.ts","webpack://sakurairo-scripts/./node_modules/.pnpm/color-space@2.3.1/node_modules/color-space/lab.js","webpack://sakurairo-scripts/./src/app/copyright.ts","webpack://sakurairo-scripts/./src/common/npmLib.ts","webpack://sakurairo-scripts/./node_modules/.pnpm/activate-power-mode@https+++codeload.github.com+Fuukei+activate-power-mode+tar.gz+af3f6_e62e471210ddb096e503954865558c57/node_modules/activate-power-mode/dist/activate-power-mode.js","webpack://sakurairo-scripts/./src/app/font_control.ts","webpack://sakurairo-scripts/./node_modules/.pnpm/@kotorik+promise-worker@0.1.0/node_modules/@kotorik/promise-worker/dist/index.mjs","webpack://sakurairo-scripts/./node_modules/.pnpm/color-space@2.3.1/node_modules/color-space/hsl.js","webpack://sakurairo-scripts/./src/app/theme-color/index.ts","webpack://sakurairo-scripts/./src/common/util.ts","webpack://sakurairo-scripts/webpack/bootstrap","webpack://sakurairo-scripts/webpack/runtime/compat get default export","webpack://sakurairo-scripts/webpack/runtime/define property getters","webpack://sakurairo-scripts/webpack/runtime/ensure chunk","webpack://sakurairo-scripts/webpack/runtime/get javascript chunk filename","webpack://sakurairo-scripts/webpack/runtime/get mini-css chunk filename","webpack://sakurairo-scripts/webpack/runtime/global","webpack://sakurairo-scripts/webpack/runtime/hasOwnProperty shorthand","webpack://sakurairo-scripts/webpack/runtime/make namespace object","webpack://sakurairo-scripts/webpack/runtime/publicPath","webpack://sakurairo-scripts/webpack/runtime/css loading","webpack://sakurairo-scripts/webpack/runtime/jsonp chunk loading","webpack://sakurairo-scripts/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; (typeof current == 'object' || typeof current == 'function') && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"sakurairo-scripts:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","/**\n * CIE XYZ\n *\n * @module  color-space/xyz\n */\nimport rgb from './rgb.js';\n\nconst xyz = {\n\tname: 'xyz',\n\tmin: [0, 0, 0],\n\tchannel: ['X', 'Y', 'Z'],\n\talias: ['XYZ', 'ciexyz', 'cie1931'],\n\n\t// Whitepoint reference values with observer/illuminant\n\t// http://en.wikipedia.org/wiki/Standard_illuminant\n\twhitepoint: {\n\t\t//1931 2\n\t\t2: {\n\t\t\t//incadescent\n\t\t\tA: [109.85, 100, 35.585],\n\t\t\t// B:[],\n\t\t\tC: [98.074, 100, 118.232],\n\t\t\tD50: [96.422, 100, 82.521],\n\t\t\tD55: [95.682, 100, 92.149],\n\t\t\t//daylight\n\t\t\tD65: [95.045592705167, 100, 108.9057750759878],\n\t\t\tD75: [94.972, 100, 122.638],\n\t\t\t//flourescent\n\t\t\t// F1: [],\n\t\t\tF2: [99.187, 100, 67.395],\n\t\t\t// F3: [],\n\t\t\t// F4: [],\n\t\t\t// F5: [],\n\t\t\t// F6:[],\n\t\t\tF7: [95.044, 100, 108.755],\n\t\t\t// F8: [],\n\t\t\t// F9: [],\n\t\t\t// F10: [],\n\t\t\tF11: [100.966, 100, 64.370],\n\t\t\t// F12: [],\n\t\t\tE: [100, 100, 100]\n\t\t},\n\n\t\t//1964  10\n\t\t10: {\n\t\t\t//incadescent\n\t\t\tA: [111.144, 100, 35.200],\n\t\t\tC: [97.285, 100, 116.145],\n\t\t\tD50: [96.720, 100, 81.427],\n\t\t\tD55: [95.799, 100, 90.926],\n\t\t\t//daylight\n\t\t\tD65: [94.811, 100, 107.304],\n\t\t\tD75: [94.416, 100, 120.641],\n\t\t\t//flourescent\n\t\t\tF2: [103.280, 100, 69.026],\n\t\t\tF7: [95.792, 100, 107.687],\n\t\t\tF11: [103.866, 100, 65.627],\n\t\t\tE: [100, 100, 100]\n\t\t}\n\t}\n};\n\n\n/**\n * Top values are the whitepoints top values, default are D65\n */\nxyz.max = xyz.whitepoint[2].D65;\n\n\n/**\n * Transform xyz to rgb\n *\n * @param {Array<number>} _xyz Array of xyz values\n * @param {Array<number>} white Whitepoint reference\n * @return {Array<number>} RGB values\n */\nxyz.rgb = function (_xyz, white) {\n\t// FIXME: make sure we have to divide like this. Probably we have to replace matrix as well then\n\twhite = white || xyz.whitepoint[2].E;\n\n\tvar x = _xyz[0] / white[0],\n\t\ty = _xyz[1] / white[1],\n\t\tz = _xyz[2] / white[2],\n\t\tr, g, b;\n\n\t// assume sRGB\n\t// http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n\tr = (x * 3.240969941904521) + (y * -1.537383177570093) + (z * -0.498610760293);\n\tg = (x * -0.96924363628087) + (y * 1.87596750150772) + (z * 0.041555057407175);\n\tb = (x * 0.055630079696993) + (y * -0.20397695888897) + (z * 1.056971514242878);\n\n\tr = r > 0.0031308 ? ((1.055 * Math.pow(r, 1.0 / 2.4)) - 0.055)\n\t\t: r = (r * 12.92);\n\n\tg = g > 0.0031308 ? ((1.055 * Math.pow(g, 1.0 / 2.4)) - 0.055)\n\t\t: g = (g * 12.92);\n\n\tb = b > 0.0031308 ? ((1.055 * Math.pow(b, 1.0 / 2.4)) - 0.055)\n\t\t: b = (b * 12.92);\n\n\tr = Math.min(Math.max(0, r), 1);\n\tg = Math.min(Math.max(0, g), 1);\n\tb = Math.min(Math.max(0, b), 1);\n\n\treturn [r * 255, g * 255, b * 255];\n}\n\n\n\n/**\n * RGB to XYZ\n *\n * @param {Array<number>} rgb RGB channels\n *\n * @return {Array<number>} XYZ channels\n */\nrgb.xyz = function (rgb, white) {\n\tvar r = rgb[0] / 255,\n\t\tg = rgb[1] / 255,\n\t\tb = rgb[2] / 255;\n\n\t// assume sRGB\n\tr = r > 0.04045 ? Math.pow(((r + 0.055) / 1.055), 2.4) : (r / 12.92);\n\tg = g > 0.04045 ? Math.pow(((g + 0.055) / 1.055), 2.4) : (g / 12.92);\n\tb = b > 0.04045 ? Math.pow(((b + 0.055) / 1.055), 2.4) : (b / 12.92);\n\n\tvar x = (r * 0.41239079926595) + (g * 0.35758433938387) + (b * 0.18048078840183);\n\tvar y = (r * 0.21263900587151) + (g * 0.71516867876775) + (b * 0.072192315360733);\n\tvar z = (r * 0.019330818715591) + (g * 0.11919477979462) + (b * 0.95053215224966);\n\n\twhite = white || xyz.whitepoint[2].E;\n\n\treturn [x * white[0], y * white[1], z * white[2]];\n};\n\n\n\nexport default xyz;\n","export function clearButterbar() {\n    const butterBar = document.getElementsByClassName(\"butterBar\");\n    if (butterBar.length > 0) {\n        for (let i = 0; i < butterBar.length; i++) {\n            butterBar[i].remove();\n        }\n    }\n}\nexport function createButterbar(message, keep) {\n    clearButterbar();\n    /*     document.body.insertAdjacentHTML('beforeend', '<div class=\"butterBar butterBar--center\"><p class=\"butterBar-message\">' + message + '</p></div>');\n     */\n    const div = document.createElement('div');\n    const p = document.createElement('p');\n    div.classList.add('butterBar', 'butterBar--center');\n    p.classList.add('butterBar-message');\n    p.innerHTML = message;\n    div.appendChild(p);\n    document.body.appendChild(div);\n    if (keep !== true)\n        setTimeout(() => { clearButterbar(); }, typeof keep == 'number' ? keep : 6000);\n    return div;\n}\n","export default function initFooter(action = 'init') {\n  let footer = document.getElementById('colophon');\n  let emojiPanel = document.querySelector('.emotion-box');\n  if (!footer) return;\n\n  //  footer\n  function hideFooter() {\n    let footer = document.getElementById('colophon');\n    footer.classList.remove('show');\n  }\n\n  function adjustWrapperPadding() {\n    const wrapper = document.querySelector('.site.wrapper');\n    if (!wrapper) return;\n    const footerHeight = footer.offsetHeight;\n    const paddingValue = footerHeight * 1.3;\n    wrapper.style.paddingBottom = `${paddingValue}px`;\n  }\n\n  function checkFooterVisibility() {\n    const scrollPosition = window.scrollY || document.documentElement.scrollTop;\n    const windowHeight   = window.innerHeight;\n    const documentHeight = document.body.scrollHeight;\n    const showThreshold  = documentHeight - 100;\n\n    if (scrollPosition + windowHeight >= showThreshold) {\n      if (!footer.classList.contains('show')) {\n        if (emojiPanel && emojiPanel.classList.contains(\"open\") && window.outerWidth < 860) {\n          return;\n        }\n        requestAnimationFrame(() => footer.classList.add('show'));\n      }\n    } else {\n      if (footer.classList.contains('show')) {\n        requestAnimationFrame(() => footer.classList.remove('show'));\n      }\n    }\n  }\n\n  function initialize() {\n    footer = document.getElementById('colophon');\n    emojiPanel = document.querySelector('.emotion-box');\n    // \n    hideFooter();\n    adjustWrapperPadding();\n\n    // \n    window.removeEventListener('scroll', onScroll);\n    window.removeEventListener('resize', checkFooterVisibility);\n\n    // 100ms\n    checkFooterVisibility();\n    setTimeout(checkFooterVisibility, 100);\n\n    // \n    let ticking = false;\n    function onScroll() {\n      if (!ticking) {\n        requestAnimationFrame(() => {\n          checkFooterVisibility();\n          ticking = false;\n        });\n        ticking = true;\n      }\n    }\n\n    window.addEventListener('scroll', onScroll);\n    window.addEventListener('resize', checkFooterVisibility);\n  }\n\n  //  PJAX \n  document.addEventListener('pjax:complete', initialize);\n\n  //   action  \n  switch (action) {\n    case 'init':\n      initialize();\n      break;\n    case 'hide':\n      hideFooter();\n      break;\n    case 'check':\n      checkFooterVisibility();\n      break;\n    default:\n      initialize();\n  }\n}\n","import { getBaseName } from '../common/util';\nimport { __ } from '../common/sakurairo_global';\nimport { importExternal } from '../common/npmLib';\nconst bgvideo = document.getElementById(\"bgvideo\");\nconst videoList = _iro.movies.name?.split(\",\") || []; // \nlet unplayedIndex = new Array(videoList.length).fill(0).map((_, index) => index);\nlet aplayersToResume = [];\n//#region \nconst _getNextRandomVideo = () => {\n    if (unplayedIndex.length == 0) {\n        unplayedIndex = new Array(videoList.length).fill(0).map((_, index) => index);\n    }\n    const nextIndex = Math.floor(Math.random() * unplayedIndex.length);\n    return videoList[unplayedIndex.splice(nextIndex, 1)[0]];\n};\nfunction getVideo() {\n    const video_stu = document.getElementsByClassName(\"video-stu\")[0];\n    const fileName = _getNextRandomVideo(); // \n    video_stu.innerHTML = __(\" ...\");\n    video_stu.style.bottom = \"0px\";\n    //_iro.movies\n    bgvideo.setAttribute(\"src\", new URL(fileName, _iro.movies.url || location.origin).toString());\n    bgvideo.setAttribute(\"video-name\", getBaseName(fileName));\n}\n/**\n * \n */\nfunction splay() {\n    const video_btn = document.getElementById(\"video-btn\");\n    if (video_btn) {\n        video_btn.classList.add(\"video-pause\");\n        video_btn.classList.remove(\"video-play\");\n        video_btn.style.display = \"\";\n    }\n    try {\n        document.querySelector(\".video-stu\").style.bottom = \"-100px\";\n        document.querySelector(\".focusinfo\").style.top = \"-999px\";\n        if (_iro.float_player_on) {\n            import('./aplayer').then(({ pauseAllPlayer }) => {\n                aplayersToResume = pauseAllPlayer();\n                bgvideo.play();\n            });\n            return;\n        }\n    }\n    catch (e) {\n        console.warn(e);\n    }\n    bgvideo.play();\n}\n/**\n * \n */\nfunction spause() {\n    const video_btn = document.getElementById(\"video-btn\");\n    if (video_btn) {\n        video_btn.classList.add(\"video-play\");\n        video_btn.classList.remove(\"video-pause\");\n    }\n    try {\n        document.querySelector(\".focusinfo\").style.top = \"49.3%\";\n    }\n    catch { }\n    bgvideo.pause();\n    for (const player of aplayersToResume) {\n        player.play();\n    }\n}\n/**\n *  - \n */\nexport function liveplay() {\n    if (bgvideo && bgvideo.oncanplay != undefined && document.querySelector(\".haslive\")) { // \n        if (document.querySelector(\".videolive\")) { // \n            splay();\n        }\n    }\n}\nexport function livepause() {\n    if (bgvideo && bgvideo.oncanplay != undefined && document.querySelector(\".haslive\")) { // \n        spause();\n        const video_stu = document.getElementsByClassName(\"video-stu\")[0];\n        video_stu.style.bottom = \"0px\";\n        video_stu.innerHTML = __(\"...\");\n    }\n}\nexport function coverVideo() {\n    const video_btn = document.getElementById(\"video-btn\");\n    if (video_btn)\n        video_btn.addEventListener(\"click\", function () {\n            if (this.classList.contains(\"loadvideo\")) {\n                this.classList.add(\"video-pause\");\n                this.classList.remove(\"loadvideo\");\n                getVideo();\n                bgvideo.oncanplay = () => {\n                    splay();\n                    document.getElementById(\"video-add\").style.display = \"block\";\n                    video_btn.classList.add(\"videolive\", \"haslive\"); // MDZZ\n                };\n            }\n            else {\n                if (this.classList.contains(\"video-pause\")) {\n                    spause();\n                    video_btn.classList.remove(\"videolive\");\n                    document.getElementsByClassName(\"video-stu\")[0].style.bottom = \"0px\";\n                    document.getElementsByClassName(\"video-stu\")[0].innerHTML = __(\"...\");\n                }\n                else {\n                    splay();\n                    video_btn.classList.add(\"videolive\"); // \n                }\n            }\n            bgvideo.onended = function () {\n                bgvideo.setAttribute(\"src\", \"\");\n                document.getElementById(\"video-add\").style.display = \"none\";\n                document.querySelector(\".focusinfo\").style.top = \"49.3%\";\n                if (video_btn) {\n                    video_btn.classList.add(\"loadvideo\");\n                    video_btn.classList.remove(\"video-pause\", \"videolive\", \"haslive\");\n                    if (_iro.movies.loop) {\n                        video_btn.click();\n                    }\n                }\n            };\n        });\n    const video_add = document.getElementById(\"video-add\");\n    if (video_add)\n        video_add.addEventListener(\"click\", getVideo);\n}\n//#endregion\nexport async function coverVideoIni() {\n    initHLS();\n    lazyloadPatch();\n}\nfunction canPlayHandler() {\n    this.poster = '';\n}\n/**\n * poster\n */\nasync function lazyloadPatch() {\n    document.querySelectorAll('video.lazyload')\n        .forEach(video => video.addEventListener('canplay', canPlayHandler));\n}\nasync function initHLS() {\n    const videos = document.querySelectorAll('video.hls');\n    if (videos.length == 0)\n        return;\n    //\n    if (videos[0].canPlayType('application/vnd.apple.mpegurl')) {\n        for (const video of videos) {\n            video.src = video.dataset.src || video.src;\n            video.autoplay = true;\n        }\n    }\n    else {\n        if (!window.Hls) {\n            try {\n                if (_iro.ext_shared_lib) {\n                    await importExternal('dist/hls.light.min.js', 'hls.js');\n                }\n                else {\n                    //@ts-ignore\n                    const { default: Hls } = await import('hls.js/dist/hls.light.js');\n                    window.Hls = Hls;\n                }\n            }\n            catch (reason) {\n                console.warn('Hls load failed: ', reason);\n            }\n        }\n        if (!Hls.isSupported())\n            console.error('Hls: Media Source Extensions is unsupported.');\n        for (const video of videos) {\n            const hls = new Hls();\n            hls.loadSource(video.dataset.src || video.src);\n            hls.attachMedia(video);\n            hls.on(Hls.Events.MANIFEST_PARSED, () => {\n                video.play();\n            });\n        }\n    }\n}\n","/**\n * RGB space.\n *\n * @module  color-space/rgb\n */\nconst rgb = {\n\tname: 'rgb',\n\tmin: [0, 0, 0],\n\tmax: [255, 255, 255],\n\tchannel: ['red', 'green', 'blue'],\n\talias: ['RGB']\n};\n\nexport default rgb;\n","import lazyload from \"../common/lazyload\"\nimport { slideToggle } from \"../common/util\";\nimport { changeCoverBG, getCoverPath, getCurrentBG, nextBG, preBG } from \"./coverBackground\";\nimport { isMobile } from \"./mobile\";\n\nvar _mashiro_global_skin_secter = true\n/**\n * \n * @param {string} tagId ID\n * @returns \n */\nexport async function changeSkin(tagId) {\n    //@sideeffect\n    _mashiro_global_skin_secter = tagId == \"white-bg\" || tagId == \"dark-bg\";\n    let bg_url;\n    switch (tagId) {\n        case \"white-bg\":\n            if (_iro.site_bg_as_cover) {\n                changeCoverBG(await getCoverPath())// \n                return\n            } else {\n                bg_url = _iro.skin_bg0;\n            }\n            break;\n        case \"diy1-bg\":\n            bg_url = _iro.skin_bg1;\n            break;\n        case \"diy2-bg\":\n            bg_url = _iro.skin_bg2;\n            break;\n        case \"diy3-bg\":\n            bg_url = _iro.skin_bg3;\n            break;\n        case \"diy4-bg\":\n            bg_url = _iro.skin_bg4;\n            break;\n    }\n    document.body.style.backgroundImage = bg_url ? `url(${bg_url})` : '';\n}\n\nexport function bgButtonAddListener() {\n    const next = document.getElementById(\"bg-next\"),\n        pre = document.getElementById(\"bg-pre\");\n    if (next) { next.onclick = nextBG }\n    if (pre) { pre.onclick = preBG }\n}\n\nimport { liveplay, livepause, } from './video'\n\n/**\n * @has-dom-modify\n */\nexport function auto_height() {\n    if (_iro.windowheight == 'auto') {\n        if (_iro.land_at_home) {\n            //let _height = document.documentElement.clientHeight + \"px\";\n            const centerbg = document.getElementById(\"centerbg\")\n            const bgvideo = document.getElementById(\"bgvideo\")\n            if (centerbg) centerbg.style.height = \"100vh\";\n            if (bgvideo) bgvideo.style.minHeight = \"100vh\";\n        }\n    } else {\n        const headertop = document.querySelector(\".headertop\")\n        headertop && headertop.classList.add(\"headertop-bar\");\n    }\n}\n/**\n * @has-dom-modify\n */\nexport function PE() {\n    const headertop = document.querySelector(\".headertop\")\n    if (headertop) {\n        let blank = document.querySelector(\".blank\");\n        if (_iro.land_at_home) {\n            try {\n                blank.style.paddingTop = \"0px\";\n            } catch (e) { }\n            headertop.style.height = \"auto\";\n            headertop.style.display = \"\";\n            if (_iro.movies.live) liveplay();\n        } else {\n            try {\n                blank.style.paddingTop = \"75px\";\n            } catch (e) { }\n            headertop.style.height = \"0px\";\n            headertop.style.display = \"none\";\n        }\n    }\n}\n\nimport { turnOnDarkMode, turnOffDarkMode } from './darkmode';\n/**\n * @has-dom-modify\n */\nexport function CE() {\n    let comments_fold = document.querySelector(\".comments-fold\");\n    let comments_main = document.querySelector(\".comments-main\");\n    if (comments_fold != null) {\n        comments_fold.style.display = \"block\";\n        comments_main.style.display = \"none\";\n        comments_fold.addEventListener(\"click\", () => {\n            slideToggle(comments_main, 500, 'show');\n            comments_fold.style.display = \"none\";\n        });\n    }\n    let archives = document.getElementsByClassName(\"archives\");\n    if (archives.length > 0) {\n        for (let i = 1; i < archives.length; i++) {\n            archives[i].style.display = \"none\";\n        }\n        archives[0].style.display = \"\";\n        let h3 = document.getElementById(\"archives-temp\").getElementsByTagName(\"h3\");\n        const handler = (e) => {\n            e.preventDefault();\n            e.stopPropagation();\n            slideToggle(e.target.nextElementSibling, 300);\n        }\n        for (let i = 0; i < h3.length; i++) {\n            h3[i].addEventListener(\"click\", handler)\n        }\n    }\n\n    try {\n        const loading = document.getElementById(\"loading\");\n        loading.addEventListener(\"click\", () => {\n            loading.classList.add(\"hide\");\n            loading.classList.remove(\"show\");\n        });\n    } catch (e) { }\n}\n//#endregion Siren\nexport function addSkinMenuListener() {\n    const cached = document.querySelectorAll(\".menu-list li\");\n    const handler = (e) => {\n        const tagid = e.target.id || e.target.parentElement.id;\n        if (tagid == \"dark-bg\") {\n            turnOnDarkMode(true)\n        } else {\n            turnOffDarkMode(true)\n            changeSkin(tagid)\n            localStorage.setItem(\"bgImgSetting\", tagid)\n        }\n        closeSkinMenu();\n    }\n    for (const e of cached) {\n        e.addEventListener(\"click\", handler);\n    }\n}\n/**\n * \n * @returns PromisePromise resolved \n */\nexport function checkBgImgSetting() {\n    return changeSkin(localStorage.getItem(\"bgImgSetting\") || 'white-bg');\n}\nexport async function checkCoverBackground() {\n    if (_iro.site_bg_as_cover) {\n        return //checkBgImgSetting\n    }\n    if (!_iro.land_at_home) return//  \n    if (getCurrentBG()) {//\n        return\n    }\n    changeCoverBG(await getCoverPath())\n}\nexport function closeSkinMenu() {\n    document.querySelector(\".skin-menu\").classList.remove(\"show\");\n    setTimeout(() => {\n        const changeSkin = document.querySelector(\".changeSkin-gear\")\n        if (changeSkin != null) {\n            changeSkin.style.visibility = \"visible\";\n        }\n    }, 300);\n}","function imgError(ele, type) {\n    svg404 = 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"200\" height=\"150\" viewBox=\"0 0 200 150\"><rect width=\"200\" height=\"150\" fill=\"#f8f8f8\"/><text x=\"50%\" y=\"50%\" font-family=\"Arial, sans-serif\" font-size=\"24\" text-anchor=\"middle\" dominant-baseline=\"middle\" fill=\"#888\">404</text><path d=\"M75,55 L125,95 M125,55 L75,95\" stroke=\"#888\" stroke-width=\"4\"/></svg>');\n    switch (type) {\n        case 1:\n        case 2:\n            ele.onerror = \"\";\n            if (_iro.missing_avatars != \"\") {\n                ele.src = _iro.missing_avatars;\n            } else {\n                ele.src = 'https://weavatar.com/avatar/?s=80&d=mm&r=g';\n            }\n            break;\n        default:\n            ele.onerror = \"\";\n            if (_iro.missing_images != \"\"){\n                ele.src = _iro.missing_images;\n            } else {\n                ele.src = svg404;\n            }\n            break;\n    }\n}\n/*feature*/\nfunction coverVideo() {\n    let video = document.getElementById(\"coverVideo\"),\n        btn_playControl = document.getElementById(\"cv-pc\");\n\n    if (video.paused) {\n        video.play();\n        try {\n            btn_playControl.innerHTML = '<i class=\"fa-solid fa-pause\"></i>';\n        } catch { }\n        //console.info('play:coverVideo()');\n    } else {\n        video.pause();\n        try {\n            btn_playControl.innerHTML = '<i class=\"fa-solid fa-play\"></i>';\n        } catch { }\n        //console.info('pause:coverVideo()');\n    }\n}\nfunction coverVideoMute() {\n    const video = document.getElementById(\"coverVideo\")\n    const btn_volumeControl = document.getElementById(\"cv-vc\");\n    if (video.muted) {\n        video.muted = false\n        btn_volumeControl.innerHTML = '<i class=\"fa-solid fa-volume-high\"></i>'\n    } else {\n        video.muted = true\n        btn_volumeControl.innerHTML = '<i class=\"fa-solid fa-volume-off\"></i>'\n    }\n}\nfunction killCoverVideo() {\n    var video = document.getElementById(\"coverVideo\");\n    var btn_playControl = document.getElementById(\"cv-pc\");\n\n    if (video.paused) {\n        //console.info('none:killCoverVideo()');\n    } else {\n        video.pause();\n        try {\n            btn_playControl.innerHTML = '<i class=\"fa-solid fa-play\"></i>';\n        } catch (e) { }\n        //console.info('pause:killCoverVideo()');\n    }\n}\n\nfunction mail_me() {\n    window.open(\"mailto:\" + _iro.email_name + \"@\" + _iro.email_domain);\n}\n/*  */\nfunction headertop_down() {\n    let coverOffset = document.getElementById(\"content\").getBoundingClientRect().top + window.pageYOffset;\n    window.scrollTo({\n        top: coverOffset,\n        behavior: \"smooth\"\n    });\n}\nwindow.imgError = imgError\nwindow.coverVideo = coverVideo\nwindow.coverVideoMute = coverVideoMute\nwindow.killCoverVideo = killCoverVideo\nwindow.mail_me = mail_me\nwindow.headertop_down = headertop_down","/**\n *\n * @param key \n */\n//@ts-ignore\nexport const __ = (defaultStr) => (window._sakurairoi18n && _sakurairoi18n[defaultStr]) || defaultStr;\n/**\n *\n *  {index} ex.{0}\n * @param defaultStr \n * @param replacements \n */\nexport const _$ = (defaultStr, ...replacements) => {\n    let template = __(defaultStr);\n    for (const index in replacements) {\n        template = template.replace('{' + index + '}', replacements[index]);\n    }\n    return template;\n};\nexport const sakurairoGlobal = {\n    opt: {},\n    /*     _sys_call:sys_call\n     */\n    build: BUILD_INFO\n};\n/**\n * sakurairoGlobal\n * @param key\n * @param value\n * @returns\n */\nexport const registerOnGlobal = (key, value) => Object.defineProperty(sakurairoGlobal, key, {\n    value: value,\n    writable: false,\n    enumerable: true,\n});\nif ('_sakurairo' in window) {\n    //@ts-ignore\n    const _sakurairo = window._sakurairo;\n    //@ts-ignore\n    if ('opt' in _sakurairo) {\n        sakurairoGlobal.opt = _sakurairo.opt;\n    }\n}\n//@ts-ignore\nwindow._sakurairo = sakurairoGlobal;\n","/**\n * default option\n */\nconst defaults = {\n    src: \"data-src\",\n    srcset: \"data-srcset\",\n    selector: \".lazyload\",\n    root: null,\n    rootMargin: \"0px\",\n    threshold: 0\n};\n/**\n * @class LazyLoad\n */\nexport default class LazyLoad {\n    constructor(elms, options) {\n        this.opts = { ...defaults, ...options };\n        this.elms = elms || document.querySelectorAll(this.opts.selector);\n        this.init();\n    }\n    elms;\n    obs = null;\n    opts;\n    init() {\n        /* Without observers load everything and bail out early. */\n        if (!IntersectionObserver) {\n            this.load();\n            return;\n        }\n        this.obs = new IntersectionObserver((entries) => {\n            for (const entry of entries) {\n                if (entry.isIntersecting) {\n                    this.obs.unobserve(entry.target);\n                    this.doLoad(entry.target);\n                }\n            }\n        }, {\n            root: this.opts.root,\n            rootMargin: this.opts.rootMargin,\n            threshold: [this.opts.threshold]\n        });\n        this.elms.forEach((image) => {\n            this.obs.observe(image);\n        });\n    }\n    load() {\n        if (!this.opts) {\n            return;\n        }\n        this.elms.forEach(this.doLoad);\n    }\n    doLoad = (element) => {\n        const src = element.getAttribute(this.opts.src);\n        const srcset = element.getAttribute(this.opts.srcset);\n        const tagName = element.tagName.toLowerCase();\n        if (src) {\n            if (element.src === src || element.style.backgroundImage.includes(src)) {\n                return;\n            }\n            if (tagName === 'video' || tagName === 'img') {\n                element.src = src;\n            }\n            else {\n                element.style.backgroundImage = \"url('\" + src + \"')\";\n            }\n        }\n        if (tagName === 'img' && srcset) {\n            element.srcset = srcset;\n        }\n    };\n    /**\n     * Destroy Lazyload Instance\n     * @returns\n     */\n    destroy() {\n        if (!this.opts) {\n            return;\n        }\n        this.obs.disconnect();\n        this.opts = null;\n    }\n}\nexport const lazyload = (images, options) => new LazyLoad(images, options);\n","import Lazyload from 'lazyload';\nlet instance;\nexport default function lazyload() {\n    if (instance) {\n        instance.destroy();\n    }\n    instance = new Lazyload();\n}\n","async function initParticle() {\n    const cfg = document.getElementById('particles-js-cfg')\n    if (cfg) {\n        try {\n            //particles.jsnpmminifyunpkg\n            //@ts-ignore\n            await import('particles.js')\n            //@ts-ignore\n            particlesJS('particles-js', JSON.parse(cfg.innerHTML))\n        } catch (error) {\n            console.error(error)\n        }\n    }\n}\nexport default function initEffect() {\n    const { effect } = _iro\n    if (effect) {\n        if (effect.type == 'yuki') {\n            import('./falling_effect/yuki/start')\n        } else import('./falling_effect/sakura/start')\n    }\n    initParticle()\n}","export default function init_medal_effects() {\n    document.addEventListener('DOMContentLoaded', async () =>{await init_medal_effects_main()});\n    document.addEventListener('pjax:complete', async () =>{await init_medal_effects_main()});\n}\n\n// DOMContentLoadedPJAX\nasync function init_medal_effects_main() {\n    try {\n        document.documentElement.style.overflowY = 'unset';\n        setTimeout(function(){\n            initMedalEffects();\n            initParallaxEffect();\n            addShineEffect();\n        }, 0) // 0\n    } catch (e) {\n        console.error('Medal effects initialization error:', e);\n    }\n}\n\nfunction initMedalEffects() {\n    const medals = document.querySelectorAll('.medal-capsule');\n    \n    if (!medals.length) return;\n      // \n    medals.forEach(medal => {\n        // \n        createParticles(medal);\n        \n        // \n        medal.addEventListener('click', function() {\n            showMedalDetails(this);\n            document.documentElement.style.overflow = 'hidden';\n        });\n    });\n}\n\n// \nfunction createParticles(medal) {\n    const container = medal.querySelector('.medal-particles');\n    if (!container) return;\n    \n    const medalType = medal.getAttribute('data-medal-level') || 'bronze';\n    let particleColor;\n    \n    // \n    switch(medalType) {\n        case 'gold':\n            particleColor = 'rgba(255, 215, 0, 0.8)';\n            break;\n        case 'silver':\n            particleColor = 'rgba(192, 192, 192, 0.8)';\n            break;\n        case 'bronze':\n        default:\n            particleColor = 'rgba(205, 127, 50, 0.8)';\n            break;\n    }\n    \n    // 10-15\n    const particleCount = 10 + Math.floor(Math.random() * 5);\n    for (let i = 0; i < particleCount; i++) {\n        const particle = document.createElement('span');\n        particle.className = 'medal-particle';\n        \n        // \n        Object.assign(particle.style, {\n            position: 'absolute',\n            width: (2 + Math.random() * 3) + 'px',\n            height: (2 + Math.random() * 3) + 'px',\n            background: particleColor,\n            borderRadius: '50%',\n            opacity: 0.3 + Math.random() * 0.7,\n            top: Math.random() * 100 + '%',\n            left: Math.random() * 100 + '%',\n            transition: 'transform ' + (1.5 + Math.random() * 2) + 's ease-out, opacity 1s ease-out',\n            pointerEvents: 'none',\n            boxShadow: '0 0 3px ' + particleColor\n        });\n        \n        container.appendChild(particle);\n        \n        // \n        medal.addEventListener('mouseenter', () => {\n            setTimeout(() => {\n                Object.assign(particle.style, {\n                    transform: `translate3d(\n                        ${-20 + Math.random() * 40}px, \n                        ${-20 + Math.random() * 40}px, \n                        0\n                    )`,\n                    opacity: Math.random() * 0.6\n                });\n            }, Math.random() * 100);\n        });\n        \n        medal.addEventListener('mouseleave', () => {\n            setTimeout(() => {\n                Object.assign(particle.style, {\n                    transform: 'translate3d(0, 0, 0)',\n                    opacity: 0.3 + Math.random() * 0.7\n                });\n            }, Math.random() * 100);\n        });\n    }\n}\n\n// \nfunction showMedalDetails(medal) {\n    // \n    const medalType = medal.getAttribute('data-medal-type');\n    const medalLevel = medal.getAttribute('data-medal-level');\n    const achievement = medal.getAttribute('data-achievement');\n    const nextLevel = medal.getAttribute('data-next-level');\n    const progress = medal.getAttribute('data-progress');\n    \n    // \"\"\n    medal.style.transform = 'scale(0.98)';\n    setTimeout(() => {\n        medal.style.transform = '';\n    }, 200);\n    \n    // \n    if ('vibrate' in navigator) {\n        navigator.vibrate(30);\n    }\n    \n    // \n    let existingModal = document.getElementById('medal-detail-modal');\n    if (existingModal) {\n        existingModal.remove();\n    }\n    \n    // \n    const modal = document.createElement('div');\n    modal.id = 'medal-detail-modal';\n    modal.className = 'medal-detail-modal ' + medalLevel;\n    \n    // \n    const modalContent = document.createElement('div');\n    modalContent.className = 'medal-modal-content';\n    \n    // \n    const medalIcon = document.createElement('div');\n    medalIcon.className = 'modal-medal-icon';\n    medalIcon.innerHTML = '<i class=\"fa-solid fa-medal\"></i>';\n    // \n    const medalTitle = document.createElement('div');\n    medalTitle.className = 'modal-medal-title';\n    \n    // \n    medalTitle.innerHTML = `\n        <h2>${medal.querySelector('.capsule-label').textContent}</h2>\n    `;\n    // \n    const achievementElem = document.createElement('div');\n    achievementElem.className = 'modal-medal-achievement';\n    \n    // PHPachievement\n    achievementElem.textContent = achievement || '';\n    \n    // \n    const progressContainer = document.createElement('div');\n    progressContainer.className = 'modal-medal-progress-container';\n      if (progress && progress < 100) {\n        const roundedProgress = Math.round(progress);\n        progressContainer.innerHTML = `\n            <div class=\"modal-medal-progress\">\n                <div class=\"modal-medal-progress-bar\" style=\"width: ${progress}%\"></div>\n                <span class=\"progress-percentage\">${roundedProgress}%</span>\n            </div>\n            <div class=\"modal-medal-next-level\">${nextLevel || ''}</div>\n        `;    } else if (medalLevel === 'gold') {\n            let text = 'Maximum level reached';\n            switch (_iro.language) {\n                case \"zh_CN\":\n                    text = \"\";\n                    break;\n                case \"zh_TW\":\n                    text = \"\";\n                    break;\n                case \"ja\":\n                    text = \"\";\n                    break;\n                case \"fr\":\n                    text = \"Niveau maximum atteint\";\n                    break;\n                default:\n                    text = 'Maximum level reached';\n                    break;\n            }\n        progressContainer.innerHTML = `\n            <div class=\"modal-medal-max-level\">${text}</div>\n        `;\n    }\n    \n    // \n    const particlesContainer = document.createElement('div');\n    particlesContainer.className = 'modal-particles-container';\n    \n    // \n    modalContent.appendChild(medalIcon);\n    modalContent.appendChild(medalTitle);\n    modalContent.appendChild(achievementElem);\n    modalContent.appendChild(progressContainer);\n    \n    modal.appendChild(particlesContainer);\n    modal.appendChild(modalContent);\n    \n    // \n    const closeButton = document.createElement('button');\n    closeButton.className = 'modal-close-button';\n    closeButton.innerHTML = '&times;';\n    closeButton.onclick = function() {\n        closeModal(modal);\n    };\n    modalContent.appendChild(closeButton);\n    \n    // \n    document.body.appendChild(modal);\n    \n    // \n    createModalParticles(particlesContainer, medalLevel);\n    \n    // \n    setTimeout(() => {\n        modal.classList.add('active');\n    }, 10);\n    \n    // \n    modal.addEventListener('click', function(e) {\n        if (e.target === modal) {\n            closeModal(modal);\n        }\n    });\n}\n\n// \nfunction closeModal(modal) {\n    modal.classList.remove('active');\n    modal.classList.add('closing');\n    document.documentElement.style.overflowY = 'unset';\n    \n    // \n    setTimeout(() => {\n        modal.remove();\n    }, 300);\n}\n\n// \nfunction createModalParticles(container, medalType) {\n    let particleColor;\n    let particleCount = 20;\n    \n    switch(medalType) {\n        case 'gold':\n            particleColor = 'rgba(255, 215, 0, 0.8)';\n            particleCount = 30; // \n            break;\n        case 'silver':\n            particleColor = 'rgba(192, 192, 192, 0.8)';\n            break;\n        case 'bronze':\n        default:\n            particleColor = 'rgba(205, 127, 50, 0.8)';\n            break;\n    }\n    \n    for (let i = 0; i < particleCount; i++) {\n        const particle = document.createElement('span');\n        particle.className = 'modal-particle';\n        \n        // \n        const size = 3 + Math.random() * 5;\n        // \n        const animationName = `float-particle-${Math.random().toString(36).substr(2, 9)}`;\n        \n        // \n        const xMove = -20 + Math.random() * 40;\n        const yMove = -20 + Math.random() * 40;\n        const styleSheet = document.styleSheets[0];\n        const animationRule = `\n            @keyframes ${animationName} {\n                0% { transform: translate(0, 0); }\n                50% { transform: translate(${xMove/2}px, ${yMove/2}px); }\n                100% { transform: translate(${xMove}px, ${yMove}px); }\n            }\n        `;\n        \n        try {\n            styleSheet.insertRule(animationRule, styleSheet.cssRules.length);\n        } catch (e) {\n            // style\n            const style = document.createElement('style');\n            style.textContent = animationRule;\n            document.head.appendChild(style);\n        }\n        \n        // \n        Object.assign(particle.style, {\n            position: 'absolute',\n            width: size + 'px',\n            height: size + 'px',\n            background: particleColor,\n            borderRadius: '50%',\n            opacity: 0.1 + Math.random() * 0.5,\n            top: Math.random() * 100 + '%',\n            left: Math.random() * 100 + '%',\n            boxShadow: '0 0 ' + (size/2) + 'px ' + particleColor,\n            animation: `${animationName} ${3 + Math.random() * 5}s ease-in-out infinite alternate`,\n            animationDelay: `-${Math.random() * 5}s`\n        });\n        \n        container.appendChild(particle);\n    }\n}\n\n// \nfunction initParallaxEffect() {\n    const medals = document.querySelectorAll('.medal-capsule');\n    \n    medals.forEach(medal => {\n        // 3D\n        medal.style.transform = 'perspective(1000px)';\n        medal.style.transformStyle = 'preserve-3d';\n        \n        // \n        const icon = medal.querySelector('i');\n        const content = medal.querySelector('.capsule-content');\n        const particles = medal.querySelector('.medal-particles');\n        \n        if (icon) icon.style.transform = 'translateZ(5px)';\n        if (content) content.style.transform = 'translateZ(3px)';\n        \n        // \n        medal.addEventListener('mousemove', function(e) {\n            const rect = this.getBoundingClientRect();\n            const x = e.clientX - rect.left; // x position within the element\n            const y = e.clientY - rect.top;  // y position within the element\n            const centerX = rect.width / 2;\n            const centerY = rect.height / 2;\n            \n            // -11\n            const deltaX = (x - centerX) / centerX;\n            const deltaY = (y - centerY) / centerY;\n            \n            // \n            this.style.transform = `\n                perspective(1000px)\n                rotateY(${deltaX * 5}deg)\n                rotateX(${-deltaY * 5}deg)\n                scale3d(1.05, 1.05, 1.05)\n            `;\n            \n            // \n            if (icon) {\n                icon.style.transform = `\n                    translateX(${deltaX * 6}px)\n                    translateY(${deltaY * 4}px)\n                    translateZ(15px)\n                `;\n            }\n            \n            if (content) {\n                content.style.transform = `\n                    translateX(${deltaX * 3}px)\n                    translateY(${deltaY * 2}px)\n                    translateZ(5px)\n                `;\n            }\n            \n            if (particles) {\n                particles.style.transform = `\n                    translateX(${-deltaX * 2}px)\n                    translateY(${-deltaY * 2}px)\n                    translateZ(-5px)\n                `;\n            }\n        });\n        \n        // \n        medal.addEventListener('mouseleave', function() {\n            this.style.transform = 'perspective(1000px)';\n            if (icon) icon.style.transform = 'translateZ(5px)';\n            if (content) content.style.transform = 'translateZ(3px)';\n            if (particles) particles.style.transform = 'translateZ(-5px)';\n        });\n    });\n}\n\n// \nfunction addShineEffect() {\n    //  Safari \n    const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n    \n    // Safari \n    if (isSafari) {\n        console.log('Safari browser detected, disabling medal shine effects for compatibility');\n        return; //  Safari \n    }\n    \n    const goldMedals = document.querySelectorAll('.medal-capsule.gold');\n\n    // CSS\n    const styleSheet = document.styleSheets[0];\n    const animationRules = `\n        /*  -  */\n        @keyframes ambient-light {\n            0% { opacity: 0.4; background-position: 20% 20%; background-size: 140% 140%; }\n            20% { opacity: 0.7; background-position: 45% 30%; background-size: 165% 165%; }\n            40% { opacity: 0.5; background-position: 50% 45%; background-size: 155% 155%; }\n            60% { opacity: 0.75; background-position: 15% 40%; background-size: 170% 170%; }\n            80% { opacity: 0.6; background-position: 25% 15%; background-size: 160% 160%; }\n            100% { opacity: 0.4; background-position: 20% 20%; background-size: 140% 140%; }\n        }\n        /*  -  */\n        @keyframes ambient-color {\n            0% { filter: hue-rotate(0deg) brightness(1) contrast(1); }\n            25% { filter: hue-rotate(8deg) brightness(1.15) contrast(1.05); }\n            50% { filter: hue-rotate(3deg) brightness(1.1) contrast(0.98); }\n            75% { filter: hue-rotate(-6deg) brightness(0.95) contrast(1.08); }\n            100% { filter: hue-rotate(0deg) brightness(1) contrast(1); }\n        }\n        /*  -  */        @keyframes light-fleck-1 {\n            0%, 100% { opacity: 0.4; transform: scale(1) translate(0, 0); filter: brightness(1); }\n            20% { opacity: 0.75; transform: scale(1.04) translate(2px, -1px); filter: brightness(1.15); }\n            50% { opacity: 0.5; transform: scale(0.98) translate(-1px, -2px); filter: brightness(0.95); }\n            80% { opacity: 0.65; transform: scale(1.02) translate(1px, 2px); filter: brightness(1.1); }\n        }\n        @keyframes light-fleck-2 {\n            0%, 100% { opacity: 0.45; transform: scale(1) translate(0, 0); filter: brightness(1.05); }\n            30% { opacity: 0.6; transform: scale(1.03) translate(-2px, 2px); filter: brightness(1.15); }\n            60% { opacity: 0.4; transform: scale(0.97) translate(2px, 1px); filter: brightness(0.98); }\n            85% { opacity: 0.7; transform: scale(1.01) translate(-1px, -2px); filter: brightness(1.2); }\n        }\n    `;    // CSS\n    const supportsMixBlendMode = window.CSS && CSS.supports && CSS.supports('mix-blend-mode', 'multiply');\n    \n    // \n    if (!supportsMixBlendMode) {\n        console.log('Browser does not support required CSS features for medal effects');\n        return;\n    }\n    \n    try {\n        styleSheet.insertRule(animationRules, styleSheet.cssRules.length);\n    } catch (e) {\n        // style\n        const style = document.createElement('style');\n        style.textContent = animationRules;\n        document.head.appendChild(style);\n    }\n\n    goldMedals.forEach(medal => {\n        // \n        if (window.getComputedStyle(medal).position === 'static') {\n            medal.style.position = 'relative';\n        }\n\n        // PJAX\n        const existingEffects = medal.querySelectorAll('.medal-shine, .medal-ambient, .medal-glow, .medal-fleck');\n        existingEffects.forEach(effect => effect.remove());\n\n        //  - \n        const ambient = document.createElement('div');\n        ambient.className = 'medal-ambient';\n        Object.assign(ambient.style, {\n            position: 'absolute',\n            top: '-20%',\n            left: '-20%',\n            width: '140%',\n            height: '140%',\n            background: 'radial-gradient(circle at 30% 30%, rgba(255,236,150,0.75) 0%, rgba(255,220,100,0.35) 35%, rgba(255,215,0,0.15) 65%, rgba(255,215,0,0) 80%)',\n            backgroundSize: '150% 150%', // \n            borderRadius: 'inherit',\n            pointerEvents: 'none',\n            zIndex: '2',\n            mixBlendMode: supportsMixBlendMode ? 'color-dodge' : 'normal', \n            animation: 'ambient-light 9s ease-in-out infinite, ambient-color 12s ease-in-out infinite',\n            opacity: '0.8',\n            transition: 'transform 0.5s ease-out, background 0.5s ease'\n        });\n\n        // \n        medal.addEventListener('mousemove', (e) => {\n            const rect = medal.getBoundingClientRect();\n            const x = e.clientX - rect.left; // X\n            const y = e.clientY - rect.top;  // Y\n\n            //  (0%-100%)\n            const xPercent = Math.round((x / rect.width) * 100);\n            const yPercent = Math.round((y / rect.height) * 100);                // \n            ambient.style.background = `radial-gradient(circle at ${xPercent}% ${yPercent}%, \n                rgba(255,246,180,0.9) 0%, \n                rgba(255,226,100,0.45) 30%, \n                rgba(255,215,0,0.2) 60%,\n                rgba(255,215,0,0) 85%)`;\n                \n            // \n            ambient.style.transform = `scale(1.15) translate(${(xPercent-50)/20}%, ${(yPercent-50)/20}%)`;\n              // \n            const flecks = medal.querySelectorAll('.medal-fleck');\n            flecks.forEach((fleck, idx) => {\n                // \n                const xFactor = idx === 0 ? 0.05 : 0.03;\n                const yFactor = idx === 0 ? 0.02 : 0.04;\n                const xMove = (xPercent - 50) * xFactor;\n                const yMove = (yPercent - 50) * yFactor;\n                \n                // \n                fleck.style.transform = `translate(${xMove}px, ${yMove}px)`;\n            });\n        });            // \n        medal.addEventListener('mouseleave', () => {\n            ambient.style.background = 'radial-gradient(circle at 30% 30%, rgba(255,236,150,0.75) 0%, rgba(255,220,100,0.35) 35%, rgba(255,215,0,0.15) 65%, rgba(255,215,0,0) 80%)';\n            ambient.style.transform = 'scale(1) translate(0%, 0%)';\n            ambient.style.animation = 'ambient-light 9s ease-in-out infinite, ambient-color 12s ease-in-out infinite';\n            \n            // \n            const flecks = medal.querySelectorAll('.medal-fleck');\n            flecks.forEach(fleck => {\n                fleck.style.transform = '';\n            });\n        });\n\n        medal.appendChild(ambient);        //  - \n        const fleckPositions = [\n            { top: '25%', left: '20%', size: '15%' },\n            { top: '65%', left: '70%', size: '13%' }\n        ];\n\n        fleckPositions.forEach((pos, i) => {\n            const fleck = document.createElement('div');\n            fleck.className = 'medal-fleck';\n            Object.assign(fleck.style, {\n                position: 'absolute',\n                top: pos.top,\n                left: pos.left,\n                width: pos.size,\n                height: pos.size,                borderRadius: '50%',\n                background: 'radial-gradient(ellipse at center, rgba(255,255,220,0.9) 0%, rgba(255,255,200,0.4) 40%, rgba(255,255,200,0) 100%)',\n                pointerEvents: 'none',\n                zIndex: '3',\n                filter:'blur(1.8px)',\n                opacity: '0.75',\n                animation: `light-fleck-${i % 3 + 1} ${8 + i * 3}s ease-in-out infinite`,\n                // \n                mixBlendMode: supportsMixBlendMode ? 'lighten' : 'normal',\n                boxShadow: '0 0 10px rgba(255, 255, 200, 0.45)'\n            });\n\n            medal.appendChild(fleck);\n        });\n\n        // \n        if (!medal.style.boxShadow) {\n            medal.style.boxShadow = 'inset 0 0 20px rgba(255, 215, 0, 0.55), 0 7px 15px rgba(0, 0, 0, 0.2)';\n        }\n\n        // \n        const pulseEffect = document.createElement('div');\n        pulseEffect.className = 'medal-pulse';\n\n        Object.assign(pulseEffect.style, {\n            position: 'absolute',\n            top: '-10%',\n            left: '-10%',\n            width: '120%',\n            height: '120%',\n            borderRadius: 'inherit',\n            background: 'radial-gradient(circle at 35% 35%, rgba(255,236,150,0.2) 0%, rgba(255,215,0,0.1) 60%, rgba(255,215,0,0) 85%)',\n            pointerEvents: 'none',\n            zIndex: '1',\n            // \n            mixBlendMode: supportsMixBlendMode ? 'screen' : 'normal',\n            animation: 'pulse-animation 5s ease-in-out infinite',\n            opacity: '0.8',\n            filter: 'blur(4px)'\n        });\n\n        // \n        try {\n            styleSheet.insertRule(`\n                @keyframes pulse-animation {\n                    0%, 100% { transform: scale(1); opacity: 0.7; background-position: 30% 30%; }\n                    25% { transform: scale(1.04); opacity: 0.8; background-position: 45% 25%; }\n                    50% { transform: scale(1.06); opacity: 0.85; background-position: 50% 45%; }\n                    75% { transform: scale(1.03); opacity: 0.75; background-position: 25% 50%; }\n                }\n            `, styleSheet.cssRules.length);\n        } catch (e) {\n            const style = document.createElement('style');\n            style.textContent = `\n                @keyframes pulse-animation {\n                    0%, 100% { transform: scale(1); opacity: 0.6; background-position: 35% 35%; }\n                    25% { transform: scale(1.02); opacity: 0.65; background-position: 40% 30%; }\n                    50% { transform: scale(1.03); opacity: 0.7; background-position: 45% 40%; }\n                    75% { transform: scale(1.01); opacity: 0.65; background-position: 30% 45%; }\n                }\n            `;\n            document.head.appendChild(style);\n        }\n\n        medal.appendChild(pulseEffect);\n    });\n}","import { buildAPI } from '../common/util';\nimport { __ } from '../common/sakurairo_global';\nlet QueryStorage;\nfunction isLiveSearchEnabled(value) {\n    if (typeof value === 'boolean')\n        return value;\n    if (typeof value === 'number')\n        return value === 1;\n    if (typeof value === 'string') {\n        const normalized = value.trim().toLowerCase();\n        return normalized === '1' || normalized === 'true' || normalized === 'on' || normalized === 'yes';\n    }\n    return !!value;\n}\nfunction renderSearchResult(keyword, link, title, text, showPreview = true) {\n    if (keyword) {\n        const terms = keyword.trim().split(/\\s+/).filter(Boolean);\n        const lastTerm = terms[terms.length - 1];\n        const escapedTerm = lastTerm.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n        const highlightRegExp = new RegExp(escapedTerm, 'ig');\n        title = title.replace(highlightRegExp, match => `<mark class=\"search-keyword\">${match}</mark>`);\n        text = text.replace(highlightRegExp, match => `<mark class=\"search-keyword\">${match}</mark>`);\n    }\n    const previewHtml = showPreview ? `<p class=\"ins-search-preview\">${text}</p>` : '';\n    return `<a class=\"ins-selectable ins-search-item\" href=\"${link}\">\n                <header>${title}</header>\n                ${previewHtml}\n            </a>`;\n}\nfunction Cx(array, query) {\n    const terms = query\n        .trim()\n        .split(/\\s+/)\n        .filter(Boolean)\n        .map(term => term.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\"));\n    if (!terms.length) {\n        return [];\n    }\n    query = \"^\" + terms.map(term => `(?=.*${term})`).join('') + \".+$\";\n    const regexp = new RegExp(query, 'i');\n    return array.filter(v => Object.values(v)\n        .some(v => regexp.test(String(v ?? ''))));\n}\nfunction query(data, keyword, showPreview = true) {\n    const sectionStart = '<section class=\"ins-section\"><header class=\"ins-section-header\">';\n    const sectionEnd = '</section>';\n    const headerEnd = '</header>';\n    const normalizedKeyword = keyword.trim();\n    const resultContainer = document.getElementById(\"PostlistBox\");\n    const wrapper = resultContainer?.closest(\".ins-section-wrapper\");\n    if (!resultContainer) {\n        return;\n    }\n    if (!normalizedKeyword) {\n        resultContainer.innerHTML = '';\n        if (wrapper)\n            wrapper.style.display = 'none';\n        return;\n    }\n    if (wrapper)\n        wrapper.style.display = '';\n    let tabBar = document.querySelector(\".ins-tab\");\n    tabBar && tabBar.removeEventListener(\"click\", tabSwitch);\n    let articleResults = \"\";\n    let shuoshuoResults = \"\";\n    let pageResults = \"\";\n    let categoryResults = \"\";\n    let tagResults = \"\";\n    let commentResults = \"\";\n    let finalHtml = \"\";\n    let tabs = \"\";\n    const matchedItems = Cx(data, normalizedKeyword);\n    for (const item of matchedItems) {\n        switch (item.type) {\n            case \"post\":\n                articleResults += renderSearchResult(normalizedKeyword, item.link, item.title, item.text, showPreview);\n                break;\n            case \"shuoshuo\":\n                shuoshuoResults += renderSearchResult(normalizedKeyword, item.link, item.title, item.text, showPreview);\n                break;\n            case \"page\":\n                pageResults += renderSearchResult(normalizedKeyword, item.link, item.title, item.text, showPreview);\n                break;\n            case \"category\":\n                categoryResults += renderSearchResult(\"\", item.link, item.title, item.text, showPreview);\n                break;\n            case \"tag\":\n                tagResults += renderSearchResult(\"\", item.link, item.title, \"\", showPreview);\n                break;\n            case \"comment\":\n                commentResults += renderSearchResult(normalizedKeyword, item.link, item.title, item.text, showPreview);\n                break;\n        }\n    }\n    if (articleResults) {\n        tabs += '<section class=\"ins-section\"><header class=\"ins-section-header tab-post\">' + __(\"\") + headerEnd + sectionEnd;\n        finalHtml += '<section class=\"ins-section type-post\">' + articleResults + sectionEnd;\n    }\n    if (shuoshuoResults) {\n        tabs += '<section class=\"ins-section\"><header class=\"ins-section-header tab-shuoshuo\">' + __(\"\") + headerEnd + sectionEnd;\n        finalHtml += '<section class=\"ins-section type-shuoshuo\">' + shuoshuoResults + sectionEnd;\n    }\n    if (pageResults) {\n        tabs += '<section class=\"ins-section\"><header class=\"ins-section-header tab-page\">' + __(\"\") + headerEnd + sectionEnd;\n        finalHtml += '<section class=\"ins-section type-page\">' + pageResults + sectionEnd;\n    }\n    if (categoryResults) {\n        tabs += '<section class=\"ins-section\"><header class=\"ins-section-header tab-cate\">' + __(\"\") + headerEnd + sectionEnd;\n        finalHtml += '<section class=\"ins-section type-cate\">' + categoryResults + sectionEnd;\n    }\n    if (tagResults) {\n        tabs += '<section class=\"ins-section\"><header class=\"ins-section-header tab-tag\">' + __(\"\") + headerEnd + sectionEnd;\n        finalHtml += '<section class=\"ins-section type-tag\">' + tagResults + sectionEnd;\n    }\n    if (commentResults) {\n        tabs += '<section class=\"ins-section\"><header class=\"ins-section-header tab-comment\">' + __(\"\") + headerEnd + sectionEnd;\n        finalHtml += '<section class=\"ins-section type-comment\">' + commentResults + sectionEnd;\n    }\n    if (!tabs || !finalHtml) {\n        resultContainer.innerHTML = '';\n        if (wrapper)\n            wrapper.style.display = 'none';\n        return;\n    }\n    resultContainer.innerHTML = '<div class=\"ins-tab\">' + tabs + '</div><div class=\"ins-type-container\">' + finalHtml + \"</div>\";\n    if (wrapper)\n        wrapper.style.display = '';\n    const typeContainer = document.querySelector(\".ins-type-container\");\n    tabBar = document.querySelector(\".ins-tab\");\n    const firstTabSection = tabBar.querySelector(\".ins-section\");\n    const firstContentSection = typeContainer.querySelector(\".ins-section\");\n    if (firstTabSection && firstContentSection) {\n        firstTabSection.classList.add(\"active\");\n        firstContentSection.classList.add(\"active\");\n        firstContentSection.style.setProperty(\"--items\", String(firstContentSection.childNodes.length));\n        let nextSibling = firstTabSection.nextElementSibling;\n        while (nextSibling) {\n            nextSibling.classList.add(\"next\");\n            nextSibling = nextSibling.nextElementSibling;\n        }\n        nextSibling = firstContentSection.nextElementSibling;\n        while (nextSibling) {\n            nextSibling.classList.add(\"next\");\n            nextSibling = nextSibling.nextElementSibling;\n        }\n    }\n    tabBar.addEventListener(\"click\", tabSwitch);\n    function tabSwitch(e) {\n        const target = e.target;\n        if (!target.classList.contains(\"ins-section-header\"))\n            return;\n        const tabSection = target.closest(\".ins-section\");\n        if (!tabSection)\n            return;\n        const tabClasses = Array.from(target.classList);\n        const tabClass = tabClasses.find(c => c.startsWith(\"tab-\"));\n        if (!tabClass)\n            return;\n        const typeKey = tabClass.slice(4); // 'post','shuoshuo','page','cate','tag','comment'\n        //  active\n        tabBar.querySelectorAll(\".ins-section\")\n            .forEach(el => el.classList.remove(\"active\", \"prev\", \"next\"));\n        typeContainer.querySelectorAll(\".ins-section\")\n            .forEach(el => el.classList.remove(\"active\", \"prev\", \"next\"));\n        let sibling = tabSection.previousElementSibling;\n        while (sibling) {\n            sibling.classList.add(\"prev\");\n            sibling = sibling.previousElementSibling;\n        }\n        sibling = tabSection.nextElementSibling;\n        while (sibling) {\n            sibling.classList.add(\"next\");\n            sibling = sibling.nextElementSibling;\n        }\n        tabSection.classList.add(\"active\");\n        //  active / prev / next\n        const contentSection = typeContainer.querySelector(`.type-${typeKey}`);\n        if (!contentSection)\n            return;\n        sibling = contentSection.previousElementSibling;\n        while (sibling) {\n            sibling.classList.add(\"prev\");\n            sibling = sibling.previousElementSibling;\n        }\n        sibling = contentSection.nextElementSibling;\n        while (sibling) {\n            sibling.classList.add(\"next\");\n            sibling = sibling.nextElementSibling;\n        }\n        contentSection.classList.add(\"active\");\n        contentSection.style.setProperty(\"--items\", String(contentSection.childNodes.length));\n        // typeContainer.scrollTo({\n        // left: contentSection.offsetLeft,\n        // behavior: \"smooth\"\n        // });\n    }\n    ;\n}\nfunction search_a(val, showPreview = true) {\n    const otxt = document.getElementById(\"search-input\");\n    const resultContainer = document.getElementById(\"PostlistBox\");\n    if (!resultContainer || !otxt) {\n        return;\n    }\n    if (sessionStorage.getItem('search') != null) {\n        try {\n            QueryStorage = JSON.parse(sessionStorage.getItem('search'));\n            query(QueryStorage, otxt.value, showPreview);\n        }\n        catch {\n            sessionStorage.removeItem('search');\n        }\n    }\n    else {\n        fetch(val)\n            .then(async (resp) => {\n            if (resp.ok) {\n                const json = await resp.text();\n                if (json != \"\") {\n                    sessionStorage.setItem('search', json);\n                    QueryStorage = JSON.parse(json);\n                    query(QueryStorage, otxt.value, showPreview);\n                }\n            }\n            else {\n                console.warn('HTTP ' + resp.status);\n            }\n        })\n            .catch(reason => console.warn(reason));\n    }\n}\nexport function SearchDialog() {\n    const searchButton = document.querySelector(\".js-toggle-search\");\n    const searchDialog = document.querySelector(\".dialog-search-form\");\n    const searchForm = document.querySelector(\".dialog-search-form form\");\n    const detail = document.querySelector(\".dialog-search-form .search-detail\");\n    const closeButton = document.querySelector(\".dialog-search-form .search-close\");\n    const searchInput = document.getElementById(\"search-input\");\n    const resultWrapper = document.querySelector(\".dialog-search-form .ins-section-wrapper\");\n    if (!searchButton || !searchDialog || !searchForm || !searchInput) {\n        return;\n    }\n    if (searchDialog.dataset.initialized === '1') {\n        return;\n    }\n    searchDialog.dataset.initialized = '1';\n    const hasResultContainer = !!document.getElementById(\"PostlistBox\");\n    const canLiveSearch = isLiveSearchEnabled(_iro.live_search) && hasResultContainer;\n    const canShowPreview = canLiveSearch && isLiveSearchEnabled(_iro.live_search_preview);\n    if (resultWrapper) {\n        resultWrapper.style.display = canLiveSearch ? 'none' : '';\n    }\n    let lastFocusedElement = null;\n    function closeSearch() {\n        if (!searchDialog.open)\n            return;\n        searchButton.classList.remove('is-active');\n        searchButton.setAttribute('aria-expanded', 'false');\n        searchForm.classList.remove('is-active');\n        document.documentElement.style.overflowY = 'unset';\n        searchForm.addEventListener(\"transitionend\", function () {\n            if (searchDialog.open) {\n                searchDialog.close();\n            }\n            if (lastFocusedElement && document.contains(lastFocusedElement)) {\n                lastFocusedElement.focus();\n            }\n        }, { once: true });\n    }\n    function showSearch() {\n        lastFocusedElement = document.activeElement instanceof HTMLElement ? document.activeElement : null;\n        searchDialog.showModal();\n        searchButton.classList.add('is-active');\n        searchButton.setAttribute('aria-expanded', 'true');\n        searchForm.classList.add('is-active');\n        document.documentElement.style.overflowY = 'hidden';\n        window.requestAnimationFrame(() => searchInput.focus());\n    }\n    if (canShowPreview && detail) {\n        detail.addEventListener(\"click\", function () {\n            const isActive = detail.classList.toggle(\"active\");\n            searchForm.classList.toggle(\"show-detail\", isActive);\n            detail.setAttribute('aria-pressed', isActive ? 'true' : 'false');\n        });\n    }\n    else {\n        detail?.remove();\n        searchForm.classList.remove(\"show-detail\");\n    }\n    closeButton?.addEventListener(\"click\", function () {\n        closeSearch();\n    });\n    searchButton.addEventListener(\"click\", function (event) {\n        event.stopPropagation();\n        if (searchDialog.open) {\n            closeSearch();\n        }\n        else {\n            showSearch();\n        }\n    });\n    searchDialog.addEventListener('cancel', function (event) {\n        event.preventDefault();\n        closeSearch();\n    });\n    document.addEventListener(\"click\", function (event) {\n        const target = event.target;\n        if (target instanceof Node && !searchForm.contains(target) && !searchButton.contains(target)) {\n            if (searchDialog.open) {\n                closeSearch();\n            }\n        }\n    });\n    if (canLiveSearch) {\n        QueryStorage = [];\n        search_a(buildAPI(_iro.api + \"sakura/v1/cache_search/json\"), canShowPreview);\n        let searchFlag = null;\n        searchInput.oninput = function () {\n            if (searchFlag != null) {\n                clearTimeout(searchFlag);\n            }\n            searchFlag = setTimeout(function () {\n                query(QueryStorage || [], searchInput.value, canShowPreview);\n            }, 250);\n        };\n        document.addEventListener(\"pjax:complete\", closeSearch);\n    }\n}\n","/**\n * app.js - Client script bundle for Sakurairo, a WordPress theme.\n * @author bymoye \n * @author KotoriK\n * @license GPL-v2\n * @date 2021.3.21\n * Github Repository:\n * @url https://github.com/Fuukei/Sakurairo_Scripts\n * @url https://github.com/mirai-mamori/Sakurairo/blob/f7db3c5c73d70a6a3f845844a44f279d540a7b6c/js/sakura-app.js\n * \n * *** ACKNOWLEDGEMENT *** \n * \n * *** modified on mashirozx/Sakura/js/sakura-app.js ***\n * Sakura theme application bundle\n * @author Mashiro\n * @url https://2heng.xin\n * @date 2019.8.3\n * *** ***\n * \n * *** inherited from louie-senpai/Siren/js/app.js ***\n * Siren application js\n * @author Louie\n * @url http://i94.me\n * @date 2016.11.19\n * *** ***\n * \n * *** inherited from Xoin-Yang/Akina/js/global.js ***\n * @author Xoin-Yang\n * @date 2017.04.25\n * @url http://www.akina.pw/\n * *** END OF ACKNOWLEDGEMENT *** \n * \n * Press 'F' to pay respects.\n * \n */\n\nimport { getCurrentBG, init_post_cover_as_bg} from './coverBackground'\nimport lazyload from \"../common/lazyload\"\nimport './global-func'\nimport { ready } from '../common/util'\nimport about_us from './about_us'\nimport preload_screen from './preload_screen'\nimport { isSupported } from './compatibility'\nimport hitokoto from './hitokoto'\nimport { XLS, post_list_show_animation } from './post_list'\nimport { initThemeColor, updateThemeSkin } from './theme-color'\nimport initEffect from './effect'\nimport { initIsMobileCache, isMobile } from './mobile'\nimport { initFontControl } from './font_control'\nimport scrollHandler from './scroll_handler'\nimport { checkDarkModeSetting, } from './darkmode'\nimport { addSkinMenuListener, auto_height, bgButtonAddListener, CE, checkBgImgSetting, checkCoverBackground, closeSkinMenu, MN, PE, timeSeriesReload, collapseMenu } from './func'\nimport initTypedJs from './typed'\nimport add_copyright from './copyright'\nimport initFooter from './footer'\nimport init_medal_effects from './animations/medal_effects';\nimport { SearchDialog } from './search'\n\n\ninitIsMobileCache()\n/**\n * _iro.pjax\n * @seealso https://github.com/PaperStrike/Pjax#compatibility\n */\n_iro.pjax = _iro.pjax && isSupported({ Firefox: 60, Edg: 79, Chrome: 66, OPR: 53, Version: 12/**Safari 12 */ });\n_iro.pjax && import('./pjax').then(({ default: initPjax }) => initPjax())\n\nadd_copyright()\nfunction activate_widget() {\n    let secondary = document.getElementById(\"secondary\");\n    if (!isMobile()) {\n        let show_hide = document.querySelector(\".show-hide\");\n        show_hide && show_hide.addEventListener(\"click\", () => {\n            secondary && secondary.classList.toggle(\"active\");\n        });\n    } else {\n        secondary && secondary.remove();\n    }\n}\nsetTimeout(function () {\n    activate_widget();\n}, 100);\n\n/* let isWebkit = navigator.userAgent.toLowerCase().indexOf('webkit') > -1,\n    isOpera = navigator.userAgent.toLowerCase().indexOf('opera') > -1,\n    isIe = navigator.userAgent.toLowerCase().indexOf('msie') > -1;\nif ((isWebkit || isOpera || isIe) && document.getElementById && window.addEventListener) { */\nwindow.addEventListener('hashchange', () => {\n    const id = location.hash.substring(1)\n    if (!(/^[A-z0-9_-]+$/.test(id))) {\n        return;\n    }\n    const element = document.getElementById(id);\n    if (element) {\n        if (!(/^(?:a|select|input|button|textarea)$/i.test(element.tagName))) {\n            element.tabIndex = -1;\n        }\n        element.focus();\n    }\n}, false);\n/* } */\n\ncheckDarkModeSetting();\n\nimport POWERMODE from 'activate-power-mode'\nimport { coverVideoIni, coverVideo } from './video'\n\nfunction powermode() {\n    POWERMODE.colorful = true;\n    POWERMODE.shake = false;\n    document.body.addEventListener('input', POWERMODE)\n}\n//afterDOMContentLoaded\n\nready(function () {\n    if (_iro.float_player_on) {\n        if (!isMobile()) {\n            import('./aplayer').then(({ aplayerInit }) => aplayerInit())\n        }\n    }\n    if (_iro.land_at_home) initTypedJs()\n    Promise.all([checkCoverBackground(), checkBgImgSetting()])\n        .then(() => {\n            if (_iro.extract_theme_skin || isSupported({ Version: 15/**Safari 15 */ })) {\n                initThemeColor()\n                const bgUrl = getCurrentBG()\n                if (bgUrl) updateThemeSkin(bgUrl)\n            }\n        })\n    addSkinMenuListener();\n    //let checkskin_bg = (a) => a == \"none\" ? \"\" : a;\n    let changskin = document.querySelector(\"#changskin\"),\n        close_SkinMenu = document.querySelector(\".skin-menu #close-skinMenu\");\n    changskin && changskin.addEventListener(\"click\", function () {\n        document.querySelector(\".skin-menu\").classList.toggle(\"show\");\n    })\n    close_SkinMenu && close_SkinMenu.addEventListener(\"click\", closeSkinMenu)\n    scrollHandler();\n    /*GT()*/\n    const mb_to_top = document.querySelector(\"#moblieGoTop\")\n    if (mb_to_top) {\n        mb_to_top.onclick = () => {\n            window.scrollTo({\n                top: 0,\n                behavior: \"smooth\"\n            });\n        }\n    }\n    /*GT end;*/\n    XLS();\n    coverVideo();\n    hitokoto()\n    bgButtonAddListener()\n    init_post_cover_as_bg();\n    //#region has-dom-modify\n    initFontControl()\n    auto_height();\n    PE();\n    CE();\n    //#endregion\n    preload_screen()\n    lazyload();\n    powermode()\n    //#region mashiro_global.ini.normalize();\n    post_list_show_animation();\n    coverVideoIni();\n    //#endregion\n    initEffect()\n    about_us()\n    initFooter();\n    init_medal_effects();\n    SearchDialog();\n});\n","import { isMobile } from \"./mobile\";\n/**\n * UI\n */\nexport default function scrollHandler() {\n    const skinMenu = document.querySelector(\".skin-menu\");\n    const changskin = document.querySelector(\"#changskin\");\n    const mb_to_top = document.querySelector(\"#moblieGoTop\");\n    const common = (scrollTop) => {\n        //NH\n        const cssText = scrollTop > 20 ? \"scale(1)\" : \"scale(0)\";\n        mb_to_top.style.transform = cssText;\n        changskin.style.transform = cssText;\n    };\n    if (isMobile()) {\n        const smallScreenHandler = () => {\n            const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;\n            skinMenu && skinMenu.classList.remove(\"show\");\n            common(scrollTop);\n        };\n        window.addEventListener(\"scroll\", smallScreenHandler);\n    }\n    else {\n        const cached = document.getElementById('bar');\n        const recalcuScrollbar = (scrollTop) => {\n            const scrollHeight = document.documentElement.scrollHeight || document.body.scrollHeight;\n            const result = Math.round(scrollTop / (scrollHeight - window.innerHeight) * 100);\n            cached.style.width = result + '%';\n            /* switch (true) {\n                case (result <= 19): c = '#cccccc'; break;\n                case (result <= 39): c = '#50bcb6'; break;\n                case (result <= 59): c = '#85c440'; break;\n                case (result <= 79): c = '#f2b63c'; break;\n                case (result <= 99): c = '#FF0000'; break;\n                case (result == 100): c = '#5aaadb'; break;\n                default: c = \"orange\";\n            }\n            cached.style.background = c; */\n            //scrollbarphp\n            skinMenu && skinMenu.classList.remove(\"show\");\n        };\n        const largeScreenHandler = () => {\n            const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;\n            recalcuScrollbar(scrollTop);\n            common(scrollTop);\n        };\n        window.addEventListener(\"scroll\", largeScreenHandler);\n    }\n}\n//pjax.complete ready\n/* function NH() {\n    const header_thresold = 0,\n        siteHeader = document.querySelector(\".site-header\")\n    window.addEventListener(\"scroll\", () => {\n        const scrollTop = document.documentElement.scrollTop || window.pageYOffset;\n        if (scrollTop > header_thresold) {\n            siteHeader.classList.add(\"yya\");\n        } else {\n            siteHeader.classList.remove(\"yya\");\n        }\n    })\n    //     $(window).scroll(function () {\n    //         var s = $(document).scrollTop(),\n    //             cached = $('.site-header');\n    //         if (s == h1) {\n    //             cached.removeClass('yya');\n    //         }\n    //         if (s > h1) {\n    //             cached.addClass('yya');\n    //         }\n    // });\n} */\n//ready\n/* function GT() {\n    const mb_to_top = document.querySelector(\"#moblieGoTop\"),\n        changskin = document.querySelector(\"#changskin\");\n    window.addEventListener(\"scroll\", debounce(() => {\n        const scroll = document.documentElement.scrollTop || document.body.scrollTop;\n        const cssText = scroll > 20 ? \"scale(1)\" : \"scale(0)\"\n        mb_to_top.style.transform = cssText;\n        changskin.style.transform = cssText;\n    }))\n    mb_to_top.onclick = topFunction\n}\n\nfunction topFunction() {\n    window.scrollTo({\n        top: 0,\n        behavior: \"smooth\"\n    });\n} */\n","export default function () {\n    const preload = document.getElementById(\"preload\");\n    if (preload) {\n        let removed = false;\n        const removeScreen = () => {\n            if (removed)\n                return;\n            document.documentElement.style.overflowY = 'unset';\n            if (_iro.preload_blur != 0) {\n                try {\n                    preload\n                        .animate([\n                        { filter: \"blur(0px)\", backdropFilter: \"blur(10px)\", opacity: 1 },\n                        { backdropFilter: \"blur(0px)grayscale(0)\", opacity: 0.1 },\n                        { opacity: 0, filter: \"blur(100px)\", }\n                    ], { duration: _iro.preload_blur, fill: \"forwards\", easing: \"ease\" })\n                        .onfinish = () => {\n                        preload.remove();\n                    };\n                    return;\n                }\n                catch (error) {\n                    console.warn(error);\n                }\n            }\n            preload.classList.add('hide');\n            preload.classList.remove('show');\n            removed = true;\n            setTimeout(() => preload.remove(), 233);\n        };\n        if (document.readyState === 'complete')\n            return removeScreen();\n        window.addEventListener('load', removeScreen, { once: true });\n        setTimeout(removeScreen, 3000);\n    }\n}\n","/**\n * \n * \n */\nexport default function about_us() {\n    const c_bocchi = \"#ff6496\";\n    const c_ichika = \"#fabe03\";\n    const c_ryo = \"#006ebe\";\n    const c_ikuyo = \"#e60046\";\n    const getTextStyle = (color) => {\n        return `color:${color};font-size:12px;font-family:\"Tahoma Bold\", \"San Francisco\";font-weight:900`;\n    };\n    const getLyricStyle = () => {\n        return `font-family:\"BIZ UDMincho\",\"Hiragino Mincho ProN\";font-size:14px`;\n    };\n    const getQuoteStyle = () => {\n        return `color:#b4b4b4;font-family:\"Tahoma Bold\", \"San Francisco\";font-size:12px`;\n    };\n    // \n    console.log(`%c\n\n\n\n\n\n%c Re:Re:`, getLyricStyle(), getQuoteStyle());\n    // \n    console.log(`%cTHE%cM%cE \\n%cSAKURAIR%cO%c \\n%cVE%cR%cSION \\n%c3%c.0 \\n%chttps://github.com/mirai-mamori/Sakurairo`, getTextStyle('inherit'), getTextStyle(c_bocchi), getTextStyle('inherit'), getTextStyle('inherit'), getTextStyle(c_ichika), getTextStyle('inherit'), getTextStyle('inherit'), getTextStyle(c_ryo), getTextStyle('inherit'), getTextStyle(c_ikuyo), getTextStyle('inherit'), getTextStyle('inherit'));\n}\n","export default function applyShowUpAnimation(elements, callback) {\n    if (!elements)\n        return;\n    const io = new IntersectionObserver((entries) => {\n        for (const entry of entries) {\n            if (entry.isIntersecting) {\n                entry.target.classList.add(\"post-list-show\");\n            }\n            else {\n                continue;\n            }\n            const target = entry.target;\n            io.unobserve(target);\n            callback?.(target);\n        }\n    }, {\n        threshold: [0.42]\n    });\n    for (const article of elements) {\n        io.observe(article);\n    }\n}\n","import { onlyOnceATime } from \"../common/util\";\nimport lazyload from \"../common/lazyload\";\nimport { __ } from '../common/sakurairo_global';\n// @ts-ignore\nimport { code_highlight_style } from '../common/code-highlight';\nimport applyShowUpAnimation from \"./animations/show_up\";\nimport { getHighlight, getThemeColorFromImageElement } from \"./theme-color\";\nconst hslaCSSText = ([h, s, l, a]) => {\n    const hsl = `${h}deg,${s}%,${l}%`;\n    return a && a !== 1 ? `hsla(${hsl},${a})` : `hsl(${hsl})`;\n};\nlet load_post_timer;\nconst load_post = onlyOnceATime(async function load_post() {\n    const now_href = document.location.href;\n    const pagination_a = document.querySelector('#pagination a');\n    if (pagination_a.classList.contains(\"loading\"))\n        return;\n    pagination_a.classList.add(\"loading\");\n    pagination_a.innerText = \"\";\n    // $('#pagination a').addClass(\"loading\").text(\"\");\n    const resp = await fetch(pagination_a.getAttribute(\"href\") + \"#main\");\n    const text = await resp.text();\n    //DOM\n    if (now_href != document.location.href)\n        return; /** */\n    const parser = new DOMParser(), DOM = parser.parseFromString(text, \"text/html\"), result = DOM.querySelectorAll(\"#main .post, #main .shuoshuo-item\"), paga = DOM.querySelector(\"#pagination a\"), paga_innerText = paga && paga.innerText, nextHref = paga && paga.getAttribute(\"href\"), main = document.getElementById(\"main\");\n    for (let i = 0; i < result.length; i++) {\n        main.append(result[i]);\n    }\n    //if (resp.ok) {\n    // result = $(data).find(\"#main .post\");\n    // nextHref = $(data).find(\"#pagination a\").attr(\"href\");\n    // $(\"#main\").append(result.fadeIn(500));\n    const dpga = document.querySelector(\"#pagination a\"), addps = document.querySelector(\"#add_post span\");\n    if (dpga) {\n        dpga.classList.remove(\"loading\");\n        dpga.innerText = paga_innerText;\n    }\n    if (addps) {\n        addps.classList.remove(\"loading\");\n        addps.innerText = \"\";\n    }\n    // $(\"#pagination a\").removeClass(\"loading\").text(\"Previous\");\n    // $('#add_post span').removeClass(\"loading\").text(\"\");\n    lazyload();\n    code_highlight_style();\n    post_list_show_animation();\n    document.dispatchEvent(new CustomEvent('ajax_post_loaded'));\n    if (nextHref != undefined) {\n        pagination_a.setAttribute(\"href\", nextHref);\n        // $(\"#pagination a\").attr(\"href\", nextHref);\n        //\n        let tempScrollTop = document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop;\n        // window.scrollTo(tempScrollTop);\n        // $(window).scrollTop(tempScrollTop);\n        window.scrollTo({\n            top: tempScrollTop + 300,\n            behavior: 'smooth'\n        });\n        // $body.animate({\n        //     scrollTop: tempScrollTop + 300\n        //\n        // }, 666)\n    }\n    else {\n        document.getElementById(\"pagination\").innerHTML = \"<span>\" + __(\"...\") + \"</span>\";\n        // $(\"#pagination\").html(\"<span>...</span>\");\n    }\n});\n/**\n * \n */\nexport function post_list_show_animation() {\n    // \n    applyShowUpAnimation(document.querySelectorAll('article.post-list-thumb,article.shuoshuo-item'), target => {\n        const thumbImage = target.querySelector('.post-thumb img');\n        if (thumbImage) {\n            if (_iro.extract_article_highlight == false) { //\n                return;\n            }\n            if (target.style.getPropertyValue('--article-theme-highlight')) { // \n                return;\n            }\n            let finalImageElement = thumbImage;\n            if (thumbImage.classList.contains('lazyload')) {\n                finalImageElement = document.createElement('img');\n                finalImageElement.src = thumbImage.getAttribute('data-src');\n                finalImageElement.crossOrigin = \"anonymous\";\n            }\n            getThemeColorFromImageElement(finalImageElement)\n                .then(rgba => {\n                if (!rgba)\n                    return;\n                const style = target.style;\n                style.setProperty('--article-theme-highlight', hslaCSSText(getHighlight(rgba)));\n            });\n        }\n    });\n    // \n    const elementsToAnimate = document.querySelectorAll('.stat-capsule, .bento-item, h1.fes-title, h1.main-title');\n    if (elementsToAnimate.length > 0) {\n        applyShowUpAnimation(elementsToAnimate);\n    }\n}\nfunction XLS_Listener(e) {\n    //#paginationanchor\n    if (e.target.parentElement.id == 'pagination') {\n        e.preventDefault();\n        e.stopPropagation();\n        clearTimeout(load_post_timer);\n        load_post();\n    }\n}\nexport function XLS() {\n    const intersectionObserver = new IntersectionObserver((entries) => {\n        if (entries[0].intersectionRatio <= 0)\n            return;\n        // var page_next = $('#pagination a').attr(\"href\");\n        const _page_next = document.querySelector('#pagination a');\n        if (_page_next) {\n            const href_page_next = _page_next.getAttribute(\"href\"), load_key = document.getElementById(\"add_post_time\");\n            if (href_page_next != undefined && load_key) {\n                const load_time = load_key.title;\n                if (load_time != \"233\") {\n                    console.log(\"%c  %c\", \"background:#9a9da2; color:#ffffff; border-radius:4px;\", \"\", \"\", load_time);\n                    load_post_timer = setTimeout(load_post, parseInt(load_time, 10) * 1000);\n                }\n            }\n        }\n    });\n    intersectionObserver.observe(document.querySelector('.footer-content'));\n    document.body.removeEventListener('click', XLS_Listener);\n    document.body.addEventListener(\"click\", XLS_Listener);\n}\n","import rgb from 'color-space/rgb.js';\nimport xyz from 'color-space/xyz.js';\nimport lab from 'color-space/lab.js';\n\nfunction _filled_array(fillWith, count) {\n  const array = [];\n  for (let i = 0; i < count; i++) {\n    array.push(fillWith);\n  }\n  return array;\n}\nfunction euclidean_distance_squared_index(a, a_start, b) {\n  const r = a[a_start++] - b[0];\n  const g = a[a_start++] - b[1];\n  const _b = a[a_start++] - b[2];\n  return r ** 2 + g ** 2 + _b ** 2;\n}\nfunction kmeans(data, k, maxAttempt, thresold = 2, clipAlpha = false) {\n  const cluster_sum = [];\n  const thresold_squared = thresold ** 2;\n  let pixelCount = data.length / 4;\n  let cluster_centers = [];\n  let new_cluster_centers = [];\n  let iteration = 0;\n  const isDataTypedArray = data instanceof Uint8ClampedArray;\n  const PIXEL_LEN = clipAlpha ? 3 : 4;\n  if (clipAlpha) {\n    let j = 0;\n    const dataNoAlpha = isDataTypedArray ? new Uint8ClampedArray(pixelCount * 3) : [];\n    for (let i = 0; i < data.length; ) {\n      if (data[i + 3] == 0) {\n        i += 4;\n        continue;\n      }\n      dataNoAlpha[j++] = data[i++];\n      dataNoAlpha[j++] = data[i++];\n      dataNoAlpha[j++] = data[i++];\n      i++;\n    }\n    data = dataNoAlpha.slice(0, j);\n    pixelCount = j / 3;\n  }\n  for (let i = 0; i < k; i++) {\n    const start = Math.floor(1 * (pixelCount - 1)) * PIXEL_LEN;\n    cluster_centers.push(\n      /* Array.from */\n      data.slice(start, start + 3)\n    );\n    new_cluster_centers.push(isDataTypedArray ? new Uint8ClampedArray(3) : _filled_array(0, 3));\n    cluster_sum.push(_filled_array(0, 4));\n  }\n  while (iteration < maxAttempt) {\n    for (let i = 0; i < data.length; ) {\n      let cluster_index = 0;\n      let _min_distance = euclidean_distance_squared_index(data, i, cluster_centers[0]);\n      for (let j = 1; j < k; j++) {\n        const distance = euclidean_distance_squared_index(data, i, cluster_centers[j]);\n        if (distance < _min_distance) {\n          _min_distance = distance;\n          cluster_index = j;\n        }\n      }\n      const sum = cluster_sum[cluster_index];\n      sum[0] += data[i++];\n      sum[1] += data[i++];\n      sum[2] += data[i++];\n      sum[3]++;\n      if (PIXEL_LEN === 4) i++;\n    }\n    let allStabled = true;\n    for (let i = 0; i < k; i++) {\n      const rgbc = cluster_sum[i];\n      const count = rgbc[3];\n      if (count == 0) {\n        const start = Math.floor(Math.random() * (pixelCount - 1)) * PIXEL_LEN;\n        new_cluster_centers[i] = /* Array.from */\n        data.slice(start, start + 3);\n        allStabled = false;\n      } else {\n        let new_center = new_cluster_centers[i];\n        let diffSquared = 0;\n        for (let j = 0; j < 3; j++) {\n          new_center[j] = rgbc[j] / count;\n          diffSquared += (new_center[j] - cluster_centers[i][j]) ** 2;\n        }\n        if (diffSquared > thresold_squared) {\n          allStabled = false;\n        }\n      }\n    }\n    if (allStabled) {\n      return {\n        centroid: new_cluster_centers,\n        iteration,\n        fit: true,\n        label: cluster_sum.map((v) => v[3]),\n        size: pixelCount\n      };\n    }\n    const medium = cluster_centers;\n    cluster_centers = new_cluster_centers;\n    new_cluster_centers = medium;\n    iteration++;\n    for (let i = 0; i < k; i++) {\n      cluster_sum[i].fill(0);\n    }\n  }\n  return {\n    centroid: cluster_centers,\n    iteration,\n    fit: false,\n    label: cluster_sum.map((v) => v[3]),\n    size: pixelCount\n  };\n}\n\n/**\n * NeuQuant Neural-Network Quantization Algorithm\n *\n * Copyright (c) 1994 Anthony Dekker\n *\n * See \"Kohonen neural networks for optimal colour quantization\" in \"Network:\n * Computation in Neural Systems\" Vol. 5 (1994) pp 351-367. for a discussion of\n * the algorithm.\n *\n * See also http://members.ozemail.com.au/~dekker/NEUQUANT.HTML\n *\n * Any party obtaining a copy of these files from the author, directly or\n * indirectly, is granted, free of charge, a full and unrestricted irrevocable,\n * world-wide, paid up, royalty-free, nonexclusive right and license to deal in\n * this software and documentation files (the \"Software\"), including without\n * limitation the rights to use, copy, modify, merge, publish, distribute,\n * sublicense, and/or sell copies of the Software, and to permit persons who\n * receive copies from any such party to do so, with the only requirement being\n * that this copyright notice remain intact.\n *\n * Copyright (c) 2012 Johan Nordberg (JavaScript port)\n * Copyright (c) 2014 Devon Govett (JavaScript port)\n */\n\nconst prime1 = 499;\nconst prime2 = 491;\nconst prime3 = 487;\nconst prime4 = 503;\n\nconst maxprime = Math.max(prime1, prime2, prime3, prime4);\nconst minpicturebytes = (3 * maxprime);\n\nconst defaults = {\n  ncycles: 100,\n  netsize: 256,\n  samplefac: 10\n};\n\nconst assign = function (target) {\n  for (let i = 1, l = arguments.length; i < l; i++) {\n    const nextSource = arguments[i];\n    if (nextSource != null) {\n      for (const nextKey in nextSource) {\n        if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n          target[nextKey] = nextSource[nextKey];\n        }\n      }\n    }\n  }\n  return target\n};\n\nclass NeuQuant {\n  constructor (pixels, options) {\n    assign(this, defaults, {pixels}, options);\n\n    if (this.netsize < 4 || this.netsize > 256) {\n      throw new Error('Color count must be between 4 and 256')\n    }\n\n    if (this.samplefac < 1 || this.samplefac > 30) {\n      throw new Error('Sampling factor must be between 1 and 30')\n    }\n\n    this.maxnetpos = this.netsize - 1;\n\n    this.netbiasshift = 4;\n    this.intbiasshift = 16;\n    this.intbias = (1 << this.intbiasshift);\n    this.gammashift = 10;\n    this.gamma = (1 << this.gammashift);\n    this.betashift = 10;\n    this.beta = (this.intbias >> this.betashift);\n    this.betagamma = (this.beta * this.gamma);\n\n    this.initrad = (this.netsize >> 3);\n    this.radiusbiasshift = 6;\n    this.radiusbias = (1 << this.radiusbiasshift);\n    this.initradius = (this.initrad * this.radiusbias);\n    this.radiusdec = 30;\n\n    this.alphabiasshift = 10;\n    this.initalpha = (1 << this.alphabiasshift);\n\n    this.radbiasshift = 8;\n    this.radbias = (1 << this.radbiasshift);\n    this.alpharadbshift = (this.alphabiasshift + this.radbiasshift);\n    this.alpharadbias = (1 << this.alpharadbshift);\n\n    this.network = [];\n    this.netindex = new Uint32Array(256);\n    this.bias = new Uint32Array(this.netsize);\n    this.freq = new Uint32Array(this.netsize);\n    this.radpower = new Uint32Array(this.netsize >> 3);\n\n    for (let i = 0, l = this.netsize; i < l; i++) {\n      let v = (i << (this.netbiasshift + 8)) / this.netsize;\n      this.network[i] = new Float64Array([v, v, v, 0]);\n      this.freq[i] = this.intbias / this.netsize;\n      this.bias[i] = 0;\n    }\n  }\n\n  unbiasnet () {\n    for (let i = 0, l = this.netsize; i < l; i++) {\n      this.network[i][0] >>= this.netbiasshift;\n      this.network[i][1] >>= this.netbiasshift;\n      this.network[i][2] >>= this.netbiasshift;\n      this.network[i][3] = i;\n    }\n  }\n\n  altersingle (alpha, i, b, g, r) {\n    this.network[i][0] -= (alpha * (this.network[i][0] - b)) / this.initalpha;\n    this.network[i][1] -= (alpha * (this.network[i][1] - g)) / this.initalpha;\n    this.network[i][2] -= (alpha * (this.network[i][2] - r)) / this.initalpha;\n  }\n\n  alterneigh (radius, i, b, g, r) {\n    const lo = Math.abs(i - radius);\n    const hi = Math.min(i + radius, this.netsize);\n\n    let j = i + 1;\n    let k = i - 1;\n    let m = 1;\n\n    while ((j < hi) || (k > lo)) {\n      const a = this.radpower[m++];\n\n      if (j < hi) {\n        const p = this.network[j++];\n        p[0] -= (a * (p[0] - b)) / this.alpharadbias;\n        p[1] -= (a * (p[1] - g)) / this.alpharadbias;\n        p[2] -= (a * (p[2] - r)) / this.alpharadbias;\n      }\n\n      if (k > lo) {\n        const p = this.network[k--];\n        p[0] -= (a * (p[0] - b)) / this.alpharadbias;\n        p[1] -= (a * (p[1] - g)) / this.alpharadbias;\n        p[2] -= (a * (p[2] - r)) / this.alpharadbias;\n      }\n    }\n  }\n\n  contest (b, g, r) {\n    let bestd = ~(1 << 31);\n    let bestbiasd = bestd;\n    let bestpos = -1;\n    let bestbiaspos = bestpos;\n\n    for (let i = 0, l = this.netsize; i < l; i++) {\n      let n = this.network[i];\n\n      let dist = Math.abs(n[0] - b) + Math.abs(n[1] - g) + Math.abs(n[2] - r);\n      if (dist < bestd) {\n        bestd = dist;\n        bestpos = i;\n      }\n\n      let biasdist = dist - ((this.bias[i]) >> (this.intbiasshift - this.netbiasshift));\n      if (biasdist < bestbiasd) {\n        bestbiasd = biasdist;\n        bestbiaspos = i;\n      }\n\n      let betafreq = (this.freq[i] >> this.betashift);\n      this.freq[i] -= betafreq;\n      this.bias[i] += (betafreq << this.gammashift);\n    }\n\n    this.freq[bestpos] += this.beta;\n    this.bias[bestpos] -= this.betagamma;\n\n    return bestbiaspos\n  }\n\n  inxbuild () {\n    let previouscol = 0;\n    let startpos = 0;\n\n    for (let i = 0, l = this.netsize; i < l; i++) {\n      let p = this.network[i];\n      let q = null;\n      let smallpos = i;\n      let smallval = p[1];\n\n      for (let j = i + 1; j < l; j++) {\n        q = this.network[j];\n        if (q[1] < smallval) {\n          smallpos = j;\n          smallval = q[1];\n        }\n      }\n      q = this.network[smallpos];\n\n      if (i !== smallpos) {\n        [p[0], q[0]] = [q[0], p[0]];\n        [p[1], q[1]] = [q[1], p[1]];\n        [p[2], q[2]] = [q[2], p[2]];\n        [p[3], q[3]] = [q[3], p[3]];\n      }\n\n      if (smallval !== previouscol) {\n        this.netindex[previouscol] = (startpos + i) >> 1;\n        for (let j = previouscol + 1; j < smallval; j++) {\n          this.netindex[j] = i;\n        }\n        previouscol = smallval;\n        startpos = i;\n      }\n    }\n\n    this.netindex[previouscol] = (startpos + this.maxnetpos) >> 1;\n    for (let i = previouscol + 1; i < 256; i++) {\n      this.netindex[i] = this.maxnetpos;\n    }\n  }\n\n  learn () {\n    const lengthcount = this.pixels.length;\n    const alphadec = 30 + ((this.samplefac - 1) / 3);\n    const samplepixels = lengthcount / (3 * this.samplefac);\n\n    let delta = samplepixels / this.ncycles | 0;\n    let alpha = this.initalpha;\n    let radius = this.initradius;\n\n    let rad = radius >> this.radiusbiasshift;\n\n    if (rad <= 1) {\n      rad = 0;\n    }\n\n    for (let i = 0; i < rad; i++) {\n      this.radpower[i] = alpha * (((rad * rad - i * i) * this.radbias) / (rad * rad));\n    }\n\n    let step;\n    if (lengthcount < minpicturebytes) {\n      this.samplefac = 1;\n      step = 3;\n    } else if ((lengthcount % prime1) !== 0) {\n      step = 3 * prime1;\n    } else if ((lengthcount % prime2) !== 0) {\n      step = 3 * prime2;\n    } else if ((lengthcount % prime3) !== 0) {\n      step = 3 * prime3;\n    } else {\n      step = 3 * prime4;\n    }\n\n    let pix = 0;\n\n    for (let i = 0; i < samplepixels;) {\n      let b = (this.pixels[pix] & 0xff) << this.netbiasshift;\n      let g = (this.pixels[pix + 1] & 0xff) << this.netbiasshift;\n      let r = (this.pixels[pix + 2] & 0xff) << this.netbiasshift;\n\n      let j = this.contest(b, g, r);\n      this.altersingle(alpha, j, b, g, r);\n      if (rad !== 0) {\n        this.alterneigh(rad, j, b, g, r);\n      }\n\n      pix += step;\n      if (pix >= lengthcount) {\n        pix -= lengthcount;\n      }\n\n      if (delta === 0) {\n        delta = 1;\n      }\n\n      if (++i % delta === 0) {\n        alpha -= alpha / alphadec;\n        radius -= radius / this.radiusdec;\n        rad = radius >> this.radiusbiasshift;\n\n        if (rad <= 1) {\n          rad = 0;\n        }\n\n        for (let k = 0; k < rad; k++) {\n          this.radpower[k] = alpha * (((rad * rad - k * k) * this.radbias) / (rad * rad));\n        }\n      }\n    }\n  }\n\n  buildColorMap () {\n    this.learn();\n    this.unbiasnet();\n    this.inxbuild();\n  }\n\n  getColorMap () {\n    const map = new Uint8Array(this.netsize * 3);\n    const index = new Uint8Array(this.netsize);\n\n    for (let i = 0, l = this.netsize; i < l; i++) {\n      index[this.network[i][3]] = i;\n    }\n\n    for (let i = 0, j = 0, k = 0, l = this.netsize; i < l; i++) {\n      k = index[i];\n      map[j++] = this.network[k][0] & 0xff;\n      map[j++] = this.network[k][1] & 0xff;\n      map[j++] = this.network[k][2] & 0xff;\n    }\n\n    return map\n  }\n}\n\nfunction findClosest (palette, r, g, b) {\n  let minpos = 0;\n  let mind = 256 * 256 * 256;\n\n  for (let i = 0, l = palette.length; i < l;) {\n    const dr = r - palette[i++];\n    const dg = g - palette[i++];\n    const db = b - palette[i];\n    const d = dr * dr + dg * dg + db * db;\n    const pos = i / 3 | 0;\n\n    if (d < mind) {\n      mind = d;\n      minpos = pos;\n    }\n\n    i++;\n  }\n\n  return minpos\n}\n\nfunction palette (pixels, options) {\n  const nq = new NeuQuant(pixels, options);\n  nq.buildColorMap();\n  return nq.getColorMap()\n}\n\nfunction indexed (pixels, palette) {\n  const indexed = new Uint8Array(pixels.length / 3);\n  const memo = {};\n\n  for (let i = 0, j = 0, l = pixels.length; i < l;) {\n    const r = pixels[i++];\n    const g = pixels[i++];\n    const b = pixels[i++];\n    const k = r << 16 | g << 8 | b;\n\n    if (k in memo) {\n      indexed[j++] = memo[k];\n    } else {\n      indexed[j++] = memo[k] = findClosest(palette, r, g, b);\n    }\n  }\n\n  return indexed\n}\n\nfunction rgba2Rgb(data) {\n  const rgb = new Uint8ClampedArray(data.length / 4 * 3);\n  const len = data.length;\n  let rgb_i = 0;\n  for (let i = 0; i < len; ) {\n    for (let j = 0; j < 3; j++) {\n      rgb[rgb_i++] = data[i++];\n    }\n    i++;\n  }\n  return rgb;\n}\nfunction neuquant(img, k, samplefac = 1) {\n  const img_rgb = rgba2Rgb(img);\n  const palette$1 = palette(img_rgb, { netsize: k, samplefac });\n  const indexed_pixel = indexed(img_rgb, palette$1);\n  const pixel = [];\n  const len = palette$1.length;\n  for (let i = 0; i < len; ) {\n    pixel.push([palette$1[i++], palette$1[i++], palette$1[i++], 255]);\n  }\n  return { centroid: pixel, label: count(k, indexed_pixel) };\n}\nfunction count(k, index) {\n  const counts = new Array(k).fill(0);\n  for (const i of index) {\n    counts[i]++;\n  }\n  return counts;\n}\n\nfunction _prepare2DContext(width, height) {\n  const canvas = document.createElement(\"canvas\");\n  const ctx = canvas.getContext(\"2d\");\n  canvas.height = height;\n  canvas.width = width;\n  return ctx;\n}\nfunction _prepare2DContextAsync(width, height) {\n  const canvas = new OffscreenCanvas(width, height);\n  const ctx = canvas.getContext(\"2d\");\n  return ctx;\n}\nfunction awaitImage(imgElement) {\n  return new Promise((resolve, reject) => {\n    if (imgElement.complete) {\n      resolve();\n    } else {\n      imgElement.addEventListener(\"load\", (e) => {\n        resolve(e);\n      });\n      imgElement.addEventListener(\"error\", (reason) => {\n        reject(reason);\n      });\n    }\n  });\n}\nfunction _readImage(prepareCtx, imgSource) {\n  const { naturalWidth, naturalHeight } = imgSource;\n  const ctx = prepareCtx(naturalWidth, naturalHeight);\n  ctx.drawImage(imgSource, 0, 0, naturalWidth, naturalHeight);\n  return ctx.getImageData(0, 0, naturalWidth, naturalHeight);\n}\nconst readImage = _readImage.bind(void 0, _prepare2DContext);\nconst readImageOffscreen = _readImage.bind(void 0, _prepare2DContextAsync);\nfunction _readImageDownsampling(prepareCtx, imgSource, maxSample) {\n  let { naturalWidth: width, naturalHeight: height } = imgSource;\n  const scale = width * height / maxSample;\n  if (scale > 1) {\n    const scaleSqrt = Math.sqrt(scale);\n    width = width / scaleSqrt | 0;\n    height = height / scaleSqrt | 0;\n  }\n  const ctx = prepareCtx(width, height);\n  ctx.drawImage(imgSource, 0, 0, width, height);\n  return ctx.getImageData(0, 0, width, height);\n}\nconst readImageDownsampling = _readImageDownsampling.bind(void 0, _prepare2DContext);\nconst readImageDownsamplingOffscreen = _readImageDownsampling.bind(void 0, _prepare2DContextAsync);\n\nfunction convertToLab(source) {\n  const array = [];\n  for (let i = 0; i < source.length; i += 4) {\n    const pixel = source.slice(i, i + 4);\n    const alpha = pixel[3];\n    const pixel_rgb = pixel.slice(0, 3);\n    const pixel_xyz = rgb.xyz(pixel_rgb);\n    const pixel_lab = xyz.lab(pixel_xyz);\n    array.push(...pixel_lab, alpha);\n  }\n  return array;\n}\nfunction labaToRGBA(laba) {\n  const pixel_lab = laba.slice(0, 3);\n  const alpha = laba[3];\n  const pixel_xyz = lab.xyz(pixel_lab);\n  const pixel_rgb = xyz.rgb(pixel_xyz);\n  pixel_rgb.push(alpha);\n  return pixel_rgb;\n}\n\nfunction max_min_of_three([a, b, c]) {\n  if (a > b) {\n    if (b > c) {\n      return [a, c];\n    } else {\n      if (a > c) {\n        return [a, b];\n      } else {\n        return [c, b];\n      }\n    }\n  } else {\n    if (b > c) {\n      if (c > a) {\n        return [b, a];\n      } else {\n        return [b, c];\n      }\n    } else {\n      return [c, a];\n    }\n  }\n}\n\nfunction normalizeRGBA(rgba) {\n  return rgba.map((v) => v / 255);\n}\nfunction rgbaToHSLA(rgba) {\n  let h, s;\n  const [max, min] = max_min_of_three(rgba);\n  const diff = max - min;\n  const light_2x = max + min;\n  if (diff == 0) {\n    h = 0;\n    s = 0;\n  } else {\n    if (max == rgba[0]) {\n      const temp_h = 60 * (rgba[1] - rgba[2]) / diff;\n      if (temp_h < 0) {\n        h = temp_h + 360;\n      } else {\n        h = temp_h;\n      }\n    } else if (max == rgba[1]) {\n      h = 60 * (rgba[2] - rgba[0]) / diff + 120;\n    } else {\n      h = 60 * (rgba[0] - rgba[1]) / diff + 240;\n    }\n    if (light_2x == 0) {\n      s = 0;\n    } else if (light_2x <= 1) {\n      s = diff / light_2x;\n    } else {\n      s = diff / (2 - light_2x);\n    }\n  }\n  return [h, s, light_2x / 2, rgba[3]];\n}\nconst getVector4Comparer = (sort = [0, 1, 2, 3]) => (a, b) => {\n  let result;\n  for (const s of sort) {\n    result = a[s] - b[s];\n    if (result != 0) {\n      return result;\n    }\n  }\n  return result;\n};\nconst hslaCSSText = ([h, s, l, a]) => `hsla(${h}deg,${s * 100}%,${l * 100}%,${a})`;\nconst rgbaCSSText = (pixel) => `rgba(${pixel.map((v) => Math.floor(v)).join(\",\")})`;\n\nexport { awaitImage, convertToLab, getVector4Comparer, hslaCSSText, kmeans, labaToRGBA, neuquant, normalizeRGBA, readImage, readImageDownsampling, readImageDownsamplingOffscreen, readImageOffscreen, rgbaCSSText, rgbaToHSLA };\n","function promisifyRequest(request) {\n    return new Promise((resolve, reject) => {\n        // @ts-ignore - file size hacks\n        request.oncomplete = request.onsuccess = () => resolve(request.result);\n        // @ts-ignore - file size hacks\n        request.onabort = request.onerror = () => reject(request.error);\n    });\n}\nfunction createStore(dbName, storeName) {\n    const request = indexedDB.open(dbName);\n    request.onupgradeneeded = () => request.result.createObjectStore(storeName);\n    const dbp = promisifyRequest(request);\n    return (txMode, callback) => dbp.then((db) => callback(db.transaction(storeName, txMode).objectStore(storeName)));\n}\nlet defaultGetStoreFunc;\nfunction defaultGetStore() {\n    if (!defaultGetStoreFunc) {\n        defaultGetStoreFunc = createStore('keyval-store', 'keyval');\n    }\n    return defaultGetStoreFunc;\n}\n/**\n * Get a value by its key.\n *\n * @param key\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction get(key, customStore = defaultGetStore()) {\n    return customStore('readonly', (store) => promisifyRequest(store.get(key)));\n}\n/**\n * Set a value with a key.\n *\n * @param key\n * @param value\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction set(key, value, customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => {\n        store.put(value, key);\n        return promisifyRequest(store.transaction);\n    });\n}\n/**\n * Set multiple values at once. This is faster than calling set() multiple times.\n * It's also atomic  if one of the pairs can't be added, none will be added.\n *\n * @param entries Array of entries, where each entry is an array of `[key, value]`.\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction setMany(entries, customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => {\n        entries.forEach((entry) => store.put(entry[1], entry[0]));\n        return promisifyRequest(store.transaction);\n    });\n}\n/**\n * Get multiple values by their keys\n *\n * @param keys\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction getMany(keys, customStore = defaultGetStore()) {\n    return customStore('readonly', (store) => Promise.all(keys.map((key) => promisifyRequest(store.get(key)))));\n}\n/**\n * Update a value. This lets you see the old value and update it as an atomic operation.\n *\n * @param key\n * @param updater A callback that takes the old value and returns a new value.\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction update(key, updater, customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => \n    // Need to create the promise manually.\n    // If I try to chain promises, the transaction closes in browsers\n    // that use a promise polyfill (IE10/11).\n    new Promise((resolve, reject) => {\n        store.get(key).onsuccess = function () {\n            try {\n                store.put(updater(this.result), key);\n                resolve(promisifyRequest(store.transaction));\n            }\n            catch (err) {\n                reject(err);\n            }\n        };\n    }));\n}\n/**\n * Delete a particular key from the store.\n *\n * @param key\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction del(key, customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => {\n        store.delete(key);\n        return promisifyRequest(store.transaction);\n    });\n}\n/**\n * Delete multiple keys at once.\n *\n * @param keys List of keys to delete.\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction delMany(keys, customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => {\n        keys.forEach((key) => store.delete(key));\n        return promisifyRequest(store.transaction);\n    });\n}\n/**\n * Clear all values in the store.\n *\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction clear(customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => {\n        store.clear();\n        return promisifyRequest(store.transaction);\n    });\n}\nfunction eachCursor(store, callback) {\n    store.openCursor().onsuccess = function () {\n        if (!this.result)\n            return;\n        callback(this.result);\n        this.result.continue();\n    };\n    return promisifyRequest(store.transaction);\n}\n/**\n * Get all keys in the store.\n *\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction keys(customStore = defaultGetStore()) {\n    return customStore('readonly', (store) => {\n        // Fast path for modern browsers\n        if (store.getAllKeys) {\n            return promisifyRequest(store.getAllKeys());\n        }\n        const items = [];\n        return eachCursor(store, (cursor) => items.push(cursor.key)).then(() => items);\n    });\n}\n/**\n * Get all values in the store.\n *\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction values(customStore = defaultGetStore()) {\n    return customStore('readonly', (store) => {\n        // Fast path for modern browsers\n        if (store.getAll) {\n            return promisifyRequest(store.getAll());\n        }\n        const items = [];\n        return eachCursor(store, (cursor) => items.push(cursor.value)).then(() => items);\n    });\n}\n/**\n * Get all entries in the store. Each entry is an array of `[key, value]`.\n *\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction entries(customStore = defaultGetStore()) {\n    return customStore('readonly', (store) => {\n        // Fast path for modern browsers\n        // (although, hopefully we'll get a simpler path some day)\n        if (store.getAll && store.getAllKeys) {\n            return Promise.all([\n                promisifyRequest(store.getAllKeys()),\n                promisifyRequest(store.getAll()),\n            ]).then(([keys, values]) => keys.map((key, i) => [key, values[i]]));\n        }\n        const items = [];\n        return customStore('readonly', (store) => eachCursor(store, (cursor) => items.push([cursor.key, cursor.value])).then(() => items));\n    });\n}\n\nexport { clear, createStore, del, delMany, entries, get, getMany, keys, promisifyRequest, set, setMany, update, values };\n","import { createStore, promisifyRequest } from 'idb-keyval';\nconst store = createStore('sakurairo', 'cache');\nconst get = (key) => store('readonly', (store) => promisifyRequest(store.get(key)));\nconst set = (key, value) => store('readwrite', (store) => {\n    store.put(value, key);\n    return promisifyRequest(store.transaction);\n});\nconst del = (key) => store('readwrite', (store) => {\n    store.delete(key);\n    return promisifyRequest(store.transaction);\n});\nexport { get, set, del };\n","import { get, set, del } from './cache';\nimport { Accept_Image } from './compatibility';\nimport { __ } from '../common/sakurairo_global';\nimport { isMobile } from './mobile';\nimport { createButterbar } from '../common/butterbar';\nimport { noop } from '../common/util';\nlet bgn = 1;\nlet blob_url = '';\nlet RecordedBG = '';\nexport async function nextBG() {\n    changeCoverBG(await getCoverPath(true));\n    bgn++;\n}\nexport async function preBG() {\n    bgn--;\n    changeCoverBG(await getCoverPath(true));\n}\nconst centerbg = document.querySelector(\".centerbg\");\n/**\n * \n */\nexport const changeCoverBG = _iro.site_bg_as_cover ? (url) => {\n    document.body.style.backgroundImage = `url(${url})`;\n    RecordedBG = `url(${url})`;\n    document.dispatchEvent(new CustomEvent('coverBG_change', { detail: url }));\n} :\n    centerbg ? (url) => {\n        centerbg.style.backgroundImage = `url(${url})`;\n        document.dispatchEvent(new CustomEvent('coverBG_change', { detail: url }));\n    } : noop;\nfunction parseCSSUrl(cssText) {\n    const result = cssText?.match(/^url\\(\"(.+)\"\\)$/);\n    if (result) {\n        return result[1];\n    }\n}\n/**\n * URL\n */\nexport const getCurrentBG = _iro.site_bg_as_cover ? () => parseCSSUrl(document.body.style.backgroundImage) :\n    (centerbg ? () => parseCSSUrl(centerbg.style.backgroundImage) : noop);\nfunction getAPIPath(useBGN = false) {\n    const cover_api_url = new URL(_iro.cover_api);\n    if (isMobile() && _iro.random_graphs_mts == true) {\n        cover_api_url.searchParams.set('type', 'mobile');\n        return cover_api_url.toString() + (useBGN ? \"&\" + bgn : '');\n    }\n    else {\n        return cover_api_url.toString() + (useBGN ? (cover_api_url.search === '' ? \"?\" : '&') + bgn : '');\n    }\n}\nexport const getCoverPath = _iro.cache_cover ? (useBGN = false) => get('cover').then(coverBG => {\n    if (coverBG && coverBG instanceof ArrayBuffer) {\n        cleanBlobUrl();\n        blob_url = URL.createObjectURL(new Blob([coverBG]));\n        return blob_url;\n    }\n    else {\n        //fallback\n        return getAPIPath(useBGN);\n    }\n}).finally(() => {\n    fetchThenCache(useBGN);\n})\n    : getAPIPath;\nasync function fetchThenCache(useBGN = false) {\n    try {\n        const resp = await fetch(getAPIPath(useBGN), { headers: { Accept: Accept_Image } });\n        if (resp.status == 500) {\n            const result = await resp.json();\n            createButterbar(result.message);\n            console.warn(result.message);\n        }\n        else if (resp.ok) {\n            const buf = await resp.arrayBuffer();\n            try {\n                set('cover', buf);\n                /**\n                 * @problem Safariindexdbblob\n                 * DataCloneError: Failed to store record in an IDBObjectStore: BlobURLs are not yet supported.\n                 * @seealso https://developers.google.com/web/fundamentals/instant-and-offline/web-storage/indexeddb-best-practices#keeping_your_app_predictable\n                 */\n            }\n            catch (e) {\n                //catch: FireFox\n                /**\n                 * @problem FireFox\n                 * DOMException: A mutation operation was attempted on a database that did not allow mutations\n                 * Chrome\n                 *  https://wiki.mozilla.org/Private_Browsing#Persistent_Storage\n                 *  https://bugzilla.mozilla.org/show_bug.cgi?id=1639542#c9\n                */\n                console.warn(e);\n            }\n        }\n    }\n    catch (e) {\n        if (e instanceof TypeError) {\n            console.warn(__('API,'));\n            del('cover');\n        }\n    }\n}\nfunction cleanBlobUrl() {\n    URL.revokeObjectURL(blob_url);\n    blob_url = '';\n}\n/* export function initCoverBG() {\n    if (_iro.site_bg_as_cover) {\n        if (centerbg) centerbg.style.background = '#0000'\n    }\n} */\nlet lastPostCover = '';\nlet first_is_home = _iro.land_at_home;\nexport function init_post_cover_as_bg() {\n    if (_iro.post_cover_as_bg == false) {\n        return;\n    }\n    else {\n        document.addEventListener('pjax:complete', post_cover_as_bg);\n        document.addEventListener(\"coverBG_change\", function () {\n            post_cover_as_bg();\n        });\n    }\n}\nasync function post_cover_as_bg() {\n    if (_iro.land_at_home) { // \n        if (!first_is_home) { // \n            document.body.style.backgroundImage = RecordedBG; // \n        }\n        if (document.body.style.getPropertyValue('background-image').trim() == `url(\"${lastPostCover}\")`.trim()) { // \n            document.body.style.backgroundImage = RecordedBG; // \n        }\n        return;\n    }\n    else if (_iro.post_feature_img == '') { // \n        document.body.style.backgroundImage = RecordedBG; // \n    }\n    else {\n        lastPostCover = _iro.post_feature_img; // \n        setTimeout(() => {\n            document.body.style.backgroundImage = `url(${_iro.post_feature_img})`;\n        }, 0); // \n    }\n}\n","/*! loadCSS. [c]2020 Filament Group, Inc. MIT License */\n(function(w){\n\t\"use strict\";\n\t/* exported loadCSS */\n\tvar loadCSS = function( href, before, media, attributes ){\n\t\t// Arguments explained:\n\t\t// `href` [REQUIRED] is the URL for your CSS file.\n\t\t// `before` [OPTIONAL] is the element the script should use as a reference for injecting our stylesheet <link> before\n\t\t// By default, loadCSS attempts to inject the link after the last stylesheet or script in the DOM. However, you might desire a more specific location in your document.\n\t\t// `media` [OPTIONAL] is the media type or query of the stylesheet. By default it will be 'all'\n\t\t// `attributes` [OPTIONAL] is the Object of attribute name/attribute value pairs to set on the stylesheet's DOM Element.\n\t\tvar doc = w.document;\n\t\tvar ss = doc.createElement( \"link\" );\n\t\tvar ref;\n\t\tif( before ){\n\t\t\tref = before;\n\t\t}\n\t\telse {\n\t\t\tvar refs = ( doc.body || doc.getElementsByTagName( \"head\" )[ 0 ] ).childNodes;\n\t\t\tref = refs[ refs.length - 1];\n\t\t}\n\n\t\tvar sheets = doc.styleSheets;\n\t\t// Set any of the provided attributes to the stylesheet DOM Element.\n\t\tif( attributes ){\n\t\t\tfor( var attributeName in attributes ){\n\t\t\t\tif( attributes.hasOwnProperty( attributeName ) ){\n\t\t\t\t\tss.setAttribute( attributeName, attributes[attributeName] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tss.rel = \"stylesheet\";\n\t\tss.href = href;\n\t\t// temporarily set media to something inapplicable to ensure it'll fetch without blocking render\n\t\tss.media = \"only x\";\n\n\t\t// wait until body is defined before injecting link. This ensures a non-blocking load in IE11.\n\t\tfunction ready( cb ){\n\t\t\tif( doc.body ){\n\t\t\t\treturn cb();\n\t\t\t}\n\t\t\tsetTimeout(function(){\n\t\t\t\tready( cb );\n\t\t\t});\n\t\t}\n\t\t// Inject link\n\t\t\t// Note: the ternary preserves the existing behavior of \"before\" argument, but we could choose to change the argument to \"after\" in a later release and standardize on ref.nextSibling for all refs\n\t\t\t// Note: `insertBefore` is used instead of `appendChild`, for safety re: http://www.paulirish.com/2011/surefire-dom-element-insertion/\n\t\tready( function(){\n\t\t\tref.parentNode.insertBefore( ss, ( before ? ref : ref.nextSibling ) );\n\t\t});\n\t\t// A method (exposed on return object for external use) that mimics onload by polling document.styleSheets until it includes the new sheet.\n\t\tvar onloadcssdefined = function( cb ){\n\t\t\tvar resolvedHref = ss.href;\n\t\t\tvar i = sheets.length;\n\t\t\twhile( i-- ){\n\t\t\t\tif( sheets[ i ].href === resolvedHref ){\n\t\t\t\t\treturn cb();\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetTimeout(function() {\n\t\t\t\tonloadcssdefined( cb );\n\t\t\t});\n\t\t};\n\n\t\tfunction loadCB(){\n\t\t\tif( ss.addEventListener ){\n\t\t\t\tss.removeEventListener( \"load\", loadCB );\n\t\t\t}\n\t\t\tss.media = media || \"all\";\n\t\t}\n\n\t\t// once loaded, set link's media back to `all` so that the stylesheet applies once it loads\n\t\tif( ss.addEventListener ){\n\t\t\tss.addEventListener( \"load\", loadCB);\n\t\t}\n\t\tss.onloadcssdefined = onloadcssdefined;\n\t\tonloadcssdefined( loadCB );\n\t\treturn ss;\n\t};\n\t// commonjs\n\tif( typeof exports !== \"undefined\" ){\n\t\texports.loadCSS = loadCSS;\n\t}\n\telse {\n\t\tw.loadCSS = loadCSS;\n\t}\n}( typeof global !== \"undefined\" ? global : this ));\n","let cache_is_mobile = false;\nexport function initIsMobileCache() {\n    const mediaQuery = window.matchMedia('(max-width:860px)');\n    cache_is_mobile = mediaQuery.matches;\n    mediaQuery.addEventListener ? mediaQuery.addEventListener('change', refreshIsMobileCache) : mediaQuery.addListener(refreshIsMobileCache);\n}\nfunction refreshIsMobileCache(ev) {\n    cache_is_mobile = ev.matches;\n}\n/**\n *\n * @returns document.body.clientWidth <= 860\n */\nexport const isMobile = () => cache_is_mobile;\n","/**\n * Cookie\n * from github.com/mirai-mamori/Sakurairo ./js/sakura-app.js ,commit 71f5a0c\n * @license GPL-v2\n * @date 2021.03\n */\nconst _version_ctrl = _iro.cookie_version_control || '';\nexport function setCookie(key, value, days) {\n    const expires = days ? \"; expires=\" + new Date(Date.now() + (days * 24 * 60 * 60 * 1000)).toUTCString() : \"\";\n    document.cookie = key + _version_ctrl + \"=\" + (value || \"\") + expires + \"; path=/\";\n}\nexport function getCookie(key) {\n    const nameEQ = key + _version_ctrl + \"=\", ca = document.cookie.split(';');\n    for (let i = 0; i < ca.length; i++) {\n        let c = ca[i];\n        while (c.charAt(0) == ' ')\n            c = c.substring(1, c.length);\n        if (c.indexOf(nameEQ) == 0)\n            return c.substring(nameEQ.length, c.length);\n    }\n    return null;\n}\nexport function removeCookie(key) {\n    document.cookie = key + _version_ctrl + '=; Max-Age=-99999999;';\n}\n","/**\n * AppleWebkitSafari\n * @seealso https://gist.github.com/jakub-g/48a16195280a7023f570ffa5c8a4eae5\n * @seealso https://en.wikipedia.org/wiki/Safari_version_history\n *\n * Opera15User Agent\n * OPR/*\n */\nconst uaMatches = Array.from(navigator.userAgent.matchAll(/(Firefox|Chrome|Version|OPR|Edg)\\/(\\d+)/ig));\nimport { setCookie } from '../common/cookie';\nfunction getSupportedImageMimeList() {\n    const acceptList = ['image/*,*/*;q=0.8'];\n    if (isSupported({ Chrome: 59, OPR: 46, Firefox: 3, Edg: 79, Version: 8 /**Safari 8 */ })) {\n        acceptList.push('image/apng');\n        if (isSupported({ Chrome: 32, OPR: 19, Firefox: 65, Edg: 18, Version: 14 /**Safari 14 */ })) {\n            setCookie('su_webp', '1', 114514);\n            acceptList.push('image/webp');\n            if (isSupported({ Chrome: 85, OPR: 71, Firefox: 93 })) {\n                acceptList.push('image/avif');\n            }\n        }\n    }\n    return acceptList.reverse().join(',');\n}\nexport function isSupported(checkList) {\n    for (const [_, name, version] of uaMatches) {\n        if (parseFloat(version) >= checkList[name]) {\n            return true;\n        }\n    }\n    return false;\n}\nexport const Accept_Image = getSupportedImageMimeList();\n","export default async function hitokoto() {\n    const yiyan = document.getElementById(\"footer_yiyan\");\n    if (yiyan) {\n        const api_group = _iro.yiyan_api || [\"https://v1.hitokoto.cn/\"];\n        if (api_group.length == 0) {\n            console.warn('API: ');\n        }\n        for (const api_path of api_group) {\n            try {\n                const txt = await request(api_path);\n                yiyan.innerText = txt;\n                break;\n            }\n            catch (e) {\n                console.warn(`API: \"${api_path}\" `, e);\n                continue;\n            }\n        }\n    }\n}\nconst request = async (api) => {\n    const res = await fetch(api, { headers: { Accept: \"application/json\" } });\n    if (res.ok) {\n        const data = await res.json();\n        const from_who = (data.from_who == 'null' ? null : data.from_who) || '';\n        const from = data.from != data.from_who ? `${data['from']}` : '';\n        const hitokoto = data.hitokoto;\n        return hitokoto + '' + from_who + from;\n    }\n    else {\n        throw res.status;\n    }\n};\n","import { isInDarkMode } from '../app/darkmode'\nimport { loadCSS } from 'fg-loadcss'\nimport { importExternal, resolvePath } from '../common/npmLib';\nimport { __ } from './sakurairo_global';\n\nconst PRISM_VERSION = PKG_INFO['prismjs']\nconst attributes = {\n    'autocomplete': 'off',\n    'autocorrect': 'off',\n    'autocapitalize': 'off',\n    'spellcheck': 'false',\n    'contenteditable': 'false',\n    'design': 'by Mashiro'\n}\nfunction gen_top_bar(pre, code_a) {\n    if (!pre.children[0]) return\n    let lang = 'text'\n    const className = pre.children[0].className\n    const matchResult = className.match(/language-(\\w+)/i)\n    if (matchResult) {\n        lang = matchResult[1]\n    }\n    pre.classList.add(\"highlight-wrap\");\n    for (const t in attributes) {\n        pre.setAttribute(t, attributes[t]);\n    }\n    code_a.setAttribute('data-rel', lang.toUpperCase());\n}\nasync function importHighlightjs() {\n    try {\n        if (!window.hljs) {\n            window.hljs = (await import('highlight.js')).default\n            await import('highlightjs-line-numbers.js')\n        }\n    } catch (e) {\n        console.warn(e)\n    }\n}\nconst hljs_click_callback = (e) => {\n    const element = e.target\n    if (!element.classList.contains(\"highlight-wrap\")) return;\n    if (element.classList.contains('code-block-fullscreen')) {\n        element.remove()\n    } else {\n        const cloneElement = element.cloneNode(true)\n        cloneElement.classList.toggle(\"code-block-fullscreen\")\n        document.body.append(cloneElement)\n    }\n    document.documentElement.classList.toggle('code-block-fullscreen-html-scroll');\n}\nexport function deattachHljsCallback() {\n    document.body.removeEventListener(\"click\", hljs_click_callback)\n}\nexport async function hljs_process(pre, code) {\n    try {\n        await importHighlightjs()\n        for (let i = 0; i < code.length; i++) {\n            if (!code[i].classList.contains(\"hljs\")) {\n                hljs.highlightElement(code[i]);\n            }\n        }\n        for (let i = 0; i < pre.length; i++) {\n            if (!pre[i].classList.contains(\"highlight-wrap\")) {\n                gen_top_bar(pre[i], code[i]);\n            }\n        }\n        hljs.initLineNumbersOnLoad();\n        document.body.addEventListener(\"click\", hljs_click_callback)\n    } catch (e) {\n        console.warn(e)\n    }\n}\n//Prism\nconst PrismBaseUrl = _iro.code_highlight_prism?.autoload_path || resolvePath('', 'prismjs', PRISM_VERSION)\nlet currentPrismThemeCSS = undefined\nconst themeCSS = (() => {\n    const { light, dark } = _iro.code_highlight_prism?.theme || {}\n    const theme = {\n        light: light || 'themes/prism.min.css',\n        dark: dark || 'themes/prism-tomorrow.min.css',\n    }\n    for (const theme_name in theme) {\n        theme[theme_name] = new URL(theme[theme_name], PrismBaseUrl).toString()\n    }\n    return theme\n})()\n\nfunction loadPrismCSS(darkmodeOn) {\n    const nextCSSHref = darkmodeOn ? themeCSS.dark : themeCSS.light\n    if (currentPrismThemeCSS) {\n        if (currentPrismThemeCSS.href !== nextCSSHref) {\n            const nextCSSElement = loadCSS(nextCSSHref)\n            nextCSSElement.addEventListener('load', () => {\n                currentPrismThemeCSS.remove()\n                currentPrismThemeCSS = nextCSSElement\n            })\n        }\n    } else {\n        currentPrismThemeCSS = loadCSS(nextCSSHref)\n    }\n}\n\nconst prism_darkmode_callback = (e) => {\n    loadPrismCSS(e.detail)\n}\nexport const deattachPrismCallback = () => document.removeEventListener('darkmode', prism_darkmode_callback)\nasync function importPrismJS() {\n    try {\n        if (!window.Prism) {\n            loadPrismCSS(isInDarkMode())\n            document.addEventListener('darkmode', prism_darkmode_callback)\n            //\n            loadCSS(new URL('plugins/toolbar/prism-toolbar.min.css', PrismBaseUrl).toString())\n            loadCSS(new URL('plugins/previewers/prism-previewers.min.css', PrismBaseUrl).toString())\n            if (_iro.ext_shared_lib) {\n                await Promise.all([importExternal('components/prism-core.min.js', 'prismjs', PRISM_VERSION),\n                importExternal('plugins/autoloader/prism-autoloader.min.js', 'prismjs', PRISM_VERSION),\n                importExternal('plugins/toolbar/prism-toolbar.min.js', 'prismjs', PRISM_VERSION),\n                importExternal('plugins/previewers/prism-previewers.min.js', 'prismjs', PRISM_VERSION),\n                importExternal('plugins/show-language/prism-show-language.min.js', 'prismjs', PRISM_VERSION)])\n            } else await import('./prism_pack')\n            Prism.plugins.autoloader.languages_path = new URL('components/', PrismBaseUrl).toString()\n        }\n    } catch (reason) {\n        console.warn(reason)\n    }\n}\nfunction loadPrismPluginLineNumbers() {\n    loadCSS(new URL('plugins/line-numbers/prism-line-numbers.min.css', PrismBaseUrl).toString())\n    if (_iro.ext_shared_lib) {\n        return importExternal('plugins/line-numbers/prism-line-numbers.min.js', 'prismjs', PRISM_VERSION)\n    } else {\n        return import('prismjs/plugins/line-numbers/prism-line-numbers')\n    }\n}\nfunction loadPrismMatchBraces() {\n    loadCSS(new URL('plugins/match-braces/prism-match-braces.min.css', PrismBaseUrl).toString())\n    if (_iro.ext_shared_lib) {\n        return importExternal('plugins/match-braces/prism-match-braces.min.js', 'prismjs', PRISM_VERSION)\n    } else {\n        return import('prismjs/plugins/match-braces/prism-match-braces')\n    }\n}\nfunction loadPrismCommandLine() {\n    loadCSS(new URL('plugins/command-line/prism-command-line.css', PrismBaseUrl).toString())\n    if (_iro.ext_shared_lib) {\n        return importExternal('plugins/command-line/prism-command-line.min.js', 'prismjs', PRISM_VERSION)\n    } else {\n        return import('prismjs/plugins/command-line/prism-command-line')\n    }\n}\n/**\n * \n * @param {NodeListOf<HTMLElement>} code document.querySelectorAll(\"pre code\")\n */\nexport async function prism_process(code) {\n    try {\n        let loadLineNumber = false\n        let loadMatchBraces = false\n        let loadCommandLine = false\n        if (_iro.code_highlight_prism.line_number_all) {\n            document.querySelector('.entry-content').classList.add('line-numbers')\n            loadLineNumber = true\n        }\n        for (const ele of code) {\n            if (ele.parentElement.classList.contains('line-numbers')) {\n                loadLineNumber = true\n            }\n            if (ele.classList.contains('match-braces')) {\n                loadMatchBraces = true\n            }\n            if (ele.dataset.prompt || ele.dataset.host || ele.dataset.user) {\n                //cli\n                loadCommandLine = true\n            }\n        }\n        await Promise.all([\n            importPrismJS(),\n            loadLineNumber && loadPrismPluginLineNumbers(),\n            loadMatchBraces && loadPrismMatchBraces(),\n            loadCommandLine && loadPrismCommandLine()\n        ])\n        for (const ele of code) {\n            if (!ele.firstChild?.classList?.contains('token')) {\n                Prism.highlightElement(ele);\n            }\n        }\n        Prism.plugins.fileHighlight && Prism.plugins.fileHighlight.highlight()\n    } catch (error) {\n        console.warn(error)\n    }\n}\n\nexport async function code_highlight_style() {\n    const pre = document.getElementsByTagName(\"pre\"),\n        code = document.querySelectorAll(\"pre code\");\n    if (!pre.length) {\n        switch (_iro.code_highlight) {\n            case 'hljs':\n                deattachHljsCallback()\n                return\n            case 'prism':\n                deattachPrismCallback()\n                return\n            default:\n        }\n    }\n    switch (_iro.code_highlight) {\n        case 'hljs':\n            await hljs_process(pre, code)\n            break\n        case 'prism':\n            await prism_process(code)\n            break\n        case 'custom': return\n        default:\n            console.warn(`_iro.code_highlight${_iro.code_highlight}`)\n    }\n    //copy_code_block\n    if (code.length > 0) {\n        for (let j = 0; j < code.length; j++) {\n            const pre_a = code[j].parentElement.querySelectorAll(\"a\");\n            for (const ele of pre_a) {\n                if (ele.classList.contains(\"copy-code\")) {\n                    ele.remove(); //\n                }\n            }\n            code[j].setAttribute('id', 'code-block-' + j);\n            code[j].insertAdjacentHTML('afterend', '<a class=\"copy-code\" href=\"javascript:\" data-clipboard-target=\"#code-block-' + j + '\" title=\"' + __(\"\") + '\"><i class=\"fa-regular fa-clipboard\"></i>');\n        }\n        if (_iro.ext_shared_lib) {\n            await importExternal('dist/clipboard.min.js', 'clipboard')\n            new ClipboardJS('.copy-code')\n        } else {\n            const ClipboardJS = (await import('clipboard')).default\n            new ClipboardJS('.copy-code');\n        }\n    }\n}","import { importExternal } from '../common/npmLib';\nlet typedInstance;\nexport function disableTypedJsIfExist() {\n    if (typedInstance) {\n        typedInstance.destroy();\n        typedInstance = null;\n    }\n}\nexport default async function initTypedJs() {\n    const json = document.getElementById('typed-js-initial');\n    if (json) {\n        disableTypedJsIfExist(); // Fix mirai-mamori/Sakurairo #810\n        try {\n            const options = JSON.parse(json.innerHTML);\n            const element = document.querySelector('.element');\n            element.innerText = '';\n            if (_iro.ext_shared_lib) {\n                if (!window.Typed)\n                    await importExternal('dist/typed.umd.js', 'typed.js');\n                typedInstance = new window.Typed(element, options);\n            }\n            else {\n                const { default: Typed } = await import('typed.js');\n                typedInstance = new Typed(element, options);\n            }\n        }\n        catch (e) {\n            console.error(\"typed.js\", e);\n        }\n    }\n}\n","const mediaQuery = window.matchMedia('(prefers-color-scheme:dark)');\nlet inDarkMode = false;\nexport const isInDarkMode = () => inDarkMode;\nfunction informDarkModeChange(nextValue) {\n    if (nextValue !== inDarkMode) {\n        document.dispatchEvent(new CustomEvent(\"darkmode\", { detail: nextValue }));\n        inDarkMode = nextValue;\n    }\n}\nfunction mediaQueryCallback() {\n    const dark = localStorage.getItem(\"dark\");\n    //\n    if (!dark) {\n        if (mediaQuery.matches && _iro.darkmode) {\n            turnOnDarkMode();\n        }\n        else {\n            turnOffDarkMode();\n        }\n    }\n}\nif (_iro.dm_strategy === 'client') {\n    mediaQuery.removeEventListener ? mediaQuery.removeEventListener('change', mediaQueryCallback) : mediaQuery.removeListener(mediaQueryCallback);\n    mediaQuery.addEventListener ? mediaQuery.addEventListener('change', mediaQueryCallback) : mediaQuery.addListener(mediaQueryCallback);\n}\nfunction saveUserSetting(value) {\n    if (value == ifDarkmodeShouldOn()) {\n        //\n        localStorage.removeItem('dark');\n    }\n    else {\n        if (value == true) {\n            localStorage.setItem(\"dark\", \"1\");\n        }\n        else {\n            localStorage.setItem(\"dark\", \"0\");\n        }\n    }\n    //localStorage.setItem(\"bgImgSetting\", \"white-bg\");\n}\nexport function turnOnDarkMode(userTriggered) {\n    document.documentElement.style.backgroundColor = \"#333\";\n    document.getElementsByClassName(\"site-content\")[0].style.backgroundColor = \"#333\";\n    document.body.classList.add(\"dark\");\n    if (userTriggered)\n        saveUserSetting(true);\n    informDarkModeChange(true);\n}\nexport function turnOffDarkMode(userTriggered) {\n    document.documentElement.style.backgroundColor = \"\";\n    document.getElementsByClassName(\"site-content\")[0].style.backgroundColor = \"rgba(255, 255, 255, .8)\";\n    document.body.classList.remove(\"dark\");\n    document.body.classList.remove(\"dynamic\");\n    informDarkModeChange(false);\n    if (userTriggered) {\n        saveUserSetting(false);\n    }\n}\n/**\n * \n * @returns {boolean}\n */\nfunction checkTime() {\n    const today = new Date();\n    return (today.getHours() > 21 || today.getHours() < 7);\n}\nexport function ifDarkmodeShouldOn() {\n    switch (_iro.dm_strategy) {\n        case 'client':\n            return mediaQuery.matches;\n        case 'eien':\n            return true;\n        default: /**case time */\n            return checkTime();\n    }\n}\nexport function checkDarkModeSetting() {\n    const dark = localStorage.getItem(\"dark\");\n    if (!dark) {\n        //\n        if (ifDarkmodeShouldOn() && _iro.darkmode) {\n            turnOnDarkMode();\n        }\n        else {\n            turnOffDarkMode();\n        }\n    }\n    else {\n        if (dark == '1') {\n            turnOnDarkMode();\n        }\n        else {\n            turnOffDarkMode();\n        }\n    }\n}\n/* function mobile_dark_light() {\n    if (document.body.classList.contains(\"dark\")) {\n        document.documentElement.style.background = \"unset\";\n        document.body.classList.remove(\"dark\");\n        document.getElementById(\"moblieDarkLight\").innerHTML = '<i class=\"fa fa-moon-o\" aria-hidden=\"true\"></i>';\n        setCookie(\"dark\", \"0\", 0.33);\n    } else {\n        document.documentElement.style.background = \"#333333\";\n        document.getElementById(\"moblieDarkLight\").innerHTML = '<i class=\"fa fa-sun-o\" aria-hidden=\"true\"></i>';\n        document.body.classList.add(\"dark\");\n        setCookie(\"dark\", \"1\", 0.33);\n    }\n} */ \n","/**\n * CIE LAB space model\n *\n * @module color-space/lab\n */\n\nimport xyz from './xyz.js';\n\nvar lab = {\n\tname: 'lab',\n\tmin: [0, -100, -100],\n\tmax: [100, 100, 100],\n\tchannel: ['lightness', 'a', 'b'],\n\talias: ['LAB', 'cielab'],\n}\n\nlab.xyz = ([l, a, b]) => {\n\tvar x, y, z, y2;\n\n\tif (l <= 8) {\n\t\ty = (l * 100) / 903.3;\n\t\ty2 = (7.787 * (y / 100)) + (16 / 116);\n\t} else {\n\t\ty = 100 * Math.pow((l + 16) / 116, 3);\n\t\ty2 = Math.pow(y / 100, 1 / 3);\n\t}\n\n\tx = x / 95.047 <= 0.008856 ? x = (95.047 * ((a / 500) + y2 - (16 / 116))) / 7.787 : 95.047 * Math.pow((a / 500) + y2, 3);\n\n\tz = z / 108.883 <= 0.008859 ? z = (108.883 * (y2 - (b / 200) - (16 / 116))) / 7.787 : 108.883 * Math.pow(y2 - (b / 200), 3);\n\n\treturn [x, y, z];\n}\n\n\nexport default (lab);\n\n\nxyz.lab = ([x, y, z]) => {\n\tvar l, a, b;\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? Math.pow(x, 1 / 3) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? Math.pow(y, 1 / 3) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? Math.pow(z, 1 / 3) : (7.787 * z) + (16 / 116);\n\n\tl = (116 * y) - 16;\n\ta = 500 * (x - y);\n\tb = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n","import { createButterbar } from \"../common/butterbar\";\nimport { __ } from \"../common/sakurairo_global\";\nconst txt = [\n    `ref(APA): ${_iro.author_name}.${_iro.site_name}.${_iro.site_url}. Retrieved ${new Date().toLocaleDateString()}.`,\n];\nfunction setClipboardText(event, selectionTxt) {\n    event.preventDefault();\n    const htmlData = selectionTxt.replace(/\\r\\n/g, \"<br>\") + \"<br><br>\" + txt.join('<br>'), textData = selectionTxt.toString().replace(/\\r\\n/g, \"\\n\") + \"\\n\\n\" + txt.join('\\n');\n    if (event.clipboardData) {\n        event.clipboardData.setData(\"text/html\", htmlData);\n        event.clipboardData.setData(\"text/plain\", textData);\n    }\n    else if (window.clipboardData) {\n        //deprecate?\n        return window.clipboardData.setData(\"text\", textData);\n    }\n}\nfunction copytext(e) {\n    const selection = window.getSelection();\n    if (selection) {\n        const selectionText = selection.toString();\n        if (selectionText.length > 30) {\n            setClipboardText(e, selectionText);\n        }\n        createButterbar(__(\"\"), 1000);\n    }\n}\n/**\n * \n */\nexport default function add_copyright() {\n    if (_iro.clipboardRef) {\n        document.body.removeEventListener(\"copy\", copytext);\n        document.body.addEventListener(\"copy\", copytext);\n    }\n}\n","/**\n * cdn\n * \n * 1.cdn downcdn\n * 2.cdn()\n * 3.\n * cdn\n * TODO: fallback\n */\nconst STORAGE_KEY = 'sakurairo_prefer_cdn';\nconst CDN_LIST = [\n    /*     [\"https://jscdn.host/release/ucode/\", \"/\", \"/\", \"\"],\n        [\"https://cdnjs.cloudflare.com/ajax/libs/\", \"/\", \"/\", \"\"],\n     */\n    [\"https://cdn.jsdelivr.net/npm/\", \"@\", \"/\", \"\"],\n    [\"https://unpkg.com/\", \"@\", \"/\", \"\"],\n    //TODO:cdn\n];\nfunction getPreferCDNIndex() {\n    const config = localStorage.getItem(STORAGE_KEY);\n    if (config) {\n        const num = parseInt(config);\n        if (isNaN(num) || num >= CDN_LIST.length) {\n            //\n            localStorage.removeItem(STORAGE_KEY);\n            return 0;\n        }\n        return num;\n    }\n    else {\n        return 0;\n    }\n}\nconst currentCDNIndex = getPreferCDNIndex();\nconst currentCDN = { raw: CDN_LIST[currentCDNIndex] };\n/**\n * CDNnpm\n * @author KotoriK\n * @param relativePath npm\n * @param packageName npm\n * @param version npmpackage.jsonpackage_info.jslatest\n * @returns cdnurl\n */\nexport const resolvePath = (relativePath, packageName, version) => String.raw(currentCDN, packageName, version || PKG_INFO[packageName] || 'latest', relativePath);\nexport const importExternal = (path, packageName, version) => {\n    const id = `${packageName}${version ? '@' + version : ''}${path}`;\n    if (document.getElementById(id)) { // \n        return Promise.resolve();\n    }\n    const script = document.createElement('script');\n    script.id = id;\n    script.src = resolvePath(path, packageName, version);\n    script.async = true;\n    //TODO: \n    return new Promise((resolve, reject) => {\n        script.onload = () => resolve();\n        script.onerror = () => {\n            script.remove(); // \n            reject(new Error(packageName + \"\"));\n        };\n        document.body.append(script);\n    }).finally(() => {\n        script.onload = script.onerror = null; //ie\n    });\n};\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"POWERMODE\"] = factory();\n\telse\n\t\troot[\"POWERMODE\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar canvas = document.createElement('canvas');\n\tcanvas.width = window.innerWidth;\n\tcanvas.height = window.innerHeight;\n\tcanvas.style.cssText = 'position:fixed;top:0;left:0;pointer-events:none;z-index:999999';\n\twindow.addEventListener('resize', function () {\n\t    canvas.width = window.innerWidth;\n\t    canvas.height = window.innerHeight;\n\t});\n\tdocument.body.appendChild(canvas);\n\tvar context = canvas.getContext('2d');\n\tvar particles = [];\n\tvar particlePointer = 0;\n\tvar rendering = false;\n\n\tPOWERMODE.shake = true;\n\n\tfunction getRandom(min, max) {\n\t    return Math.random() * (max - min) + min;\n\t}\n\n\tfunction getColor(el) {\n\t    if (POWERMODE.colorful) {\n\t        var u = getRandom(0, 360);\n\t        return 'hsla(' + getRandom(u - 10, u + 10) + ', 100%, ' + getRandom(50, 80) + '%, ' + 1 + ')';\n\t    } else {\n\t        return window.getComputedStyle(el).color;\n\t    }\n\t}\n\n\tfunction getCaret() {\n\t    var el = document.activeElement;\n\t    var bcr;\n\t    if (el.tagName === 'TEXTAREA' ||\n\t        (el.tagName === 'INPUT' && el.getAttribute('type') === 'text')) {\n\t        var offset = __webpack_require__(1)(el, el.selectionEnd);\n\t        bcr = el.getBoundingClientRect();\n\t        return {\n\t            x: offset.left + bcr.left,\n\t            y: offset.top + bcr.top,\n\t            color: getColor(el)\n\t        };\n\t    }\n\t    var selection = window.getSelection();\n\t    if (selection.rangeCount) {\n\t        var range = selection.getRangeAt(0);\n\t        var startNode = range.startContainer;\n\t        if (startNode.nodeType === document.TEXT_NODE) {\n\t            startNode = startNode.parentNode;\n\t        }\n\t        bcr = range.getBoundingClientRect();\n\t        return {\n\t            x: bcr.left,\n\t            y: bcr.top,\n\t            color: getColor(startNode)\n\t        };\n\t    }\n\t    return { x: 0, y: 0, color: 'transparent' };\n\t}\n\n\tfunction createParticle(x, y, color) {\n\t    return {\n\t        x: x,\n\t        y: y,\n\t        alpha: 1,\n\t        color: color,\n\t        velocity: {\n\t            x: -1 + Math.random() * 2,\n\t            y: -3.5 + Math.random() * 2\n\t        }\n\t    };\n\t}\n\n\tfunction POWERMODE() {\n\t    { // spawn particles\n\t        var caret = getCaret();\n\t        var numParticles = 5 + Math.round(Math.random() * 10);\n\t        while (numParticles--) {\n\t            particles[particlePointer] = createParticle(caret.x, caret.y, caret.color);\n\t            particlePointer = (particlePointer + 1) % 500;\n\t        }\n\t    }\n\t    { // shake screen\n\t        if (POWERMODE.shake) {\n\t            var intensity = 1 + 2 * Math.random();\n\t            var x = intensity * (Math.random() > 0.5 ? -1 : 1);\n\t            var y = intensity * (Math.random() > 0.5 ? -1 : 1);\n\t            document.body.style.marginLeft = x + 'px';\n\t            document.body.style.marginTop = y + 'px';\n\t            setTimeout(function() {\n\t                document.body.style.marginLeft = '';\n\t                document.body.style.marginTop = '';\n\t            }, 75);\n\t        }\n\t    }\n\t    if(!rendering){\n\t        requestAnimationFrame(loop);\n\t    }\n\t};\n\tPOWERMODE.colorful = false;\n\n\tfunction loop() {\n\t    rendering = true;\n\t    context.clearRect(0, 0, canvas.width, canvas.height);\n\t    var rendered = false;\n\t    var rect = canvas.getBoundingClientRect();\n\t    for (var i = 0; i < particles.length; ++i) {\n\t        var particle = particles[i];\n\t        if (particle.alpha <= 0.1) continue;\n\t        particle.velocity.y += 0.075;\n\t        particle.x += particle.velocity.x;\n\t        particle.y += particle.velocity.y;\n\t        particle.alpha *= 0.96;\n\t        context.globalAlpha = particle.alpha;\n\t        context.fillStyle = particle.color;\n\t        context.fillRect(\n\t            Math.round(particle.x - 1.5) - rect.left,\n\t            Math.round(particle.y - 1.5) - rect.top,\n\t            3, 3\n\t        );\n\t        rendered = true;\n\t    }\n\t    if(rendered){\n\t        requestAnimationFrame(loop);\n\t    }else{\n\t        rendering = false;\n\t    }\n\t}\n\n\tmodule.exports = POWERMODE;\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\n\t/* jshint browser: true */\n\n\t(function () {\n\n\t// The properties that we copy into a mirrored div.\n\t// Note that some browsers, such as Firefox,\n\t// do not concatenate properties, i.e. padding-top, bottom etc. -> padding,\n\t// so we have to do every single property specifically.\n\tvar properties = [\n\t  'direction',  // RTL support\n\t  'boxSizing',\n\t  'width',  // on Chrome and IE, exclude the scrollbar, so the mirror div wraps exactly as the textarea does\n\t  'height',\n\t  'overflowX',\n\t  'overflowY',  // copy the scrollbar for IE\n\n\t  'borderTopWidth',\n\t  'borderRightWidth',\n\t  'borderBottomWidth',\n\t  'borderLeftWidth',\n\t  'borderStyle',\n\n\t  'paddingTop',\n\t  'paddingRight',\n\t  'paddingBottom',\n\t  'paddingLeft',\n\n\t  // https://developer.mozilla.org/en-US/docs/Web/CSS/font\n\t  'fontStyle',\n\t  'fontVariant',\n\t  'fontWeight',\n\t  'fontStretch',\n\t  'fontSize',\n\t  'fontSizeAdjust',\n\t  'lineHeight',\n\t  'fontFamily',\n\n\t  'textAlign',\n\t  'textTransform',\n\t  'textIndent',\n\t  'textDecoration',  // might not make a difference, but better be safe\n\n\t  'letterSpacing',\n\t  'wordSpacing',\n\n\t  'tabSize',\n\t  'MozTabSize'\n\n\t];\n\n\tvar isFirefox = window.mozInnerScreenX != null;\n\n\tfunction getCaretCoordinates(element, position, options) {\n\n\t  var debug = options && options.debug || false;\n\t  if (debug) {\n\t    var el = document.querySelector('#input-textarea-caret-position-mirror-div');\n\t    if ( el ) { el.parentNode.removeChild(el); }\n\t  }\n\n\t  // mirrored div\n\t  var div = document.createElement('div');\n\t  div.id = 'input-textarea-caret-position-mirror-div';\n\t  document.body.appendChild(div);\n\n\t  var style = div.style;\n\t  var computed = window.getComputedStyle? getComputedStyle(element) : element.currentStyle;  // currentStyle for IE < 9\n\n\t  // default textarea styles\n\t  style.whiteSpace = 'pre-wrap';\n\t  if (element.nodeName !== 'INPUT')\n\t    style.wordWrap = 'break-word';  // only for textarea-s\n\n\t  // position off-screen\n\t  style.position = 'absolute';  // required to return coordinates properly\n\t  if (!debug)\n\t    style.visibility = 'hidden';  // not 'display: none' because we want rendering\n\n\t  // transfer the element's properties to the div\n\t  properties.forEach(function (prop) {\n\t    style[prop] = computed[prop];\n\t  });\n\n\t  if (isFirefox) {\n\t    // Firefox lies about the overflow property for textareas: https://bugzilla.mozilla.org/show_bug.cgi?id=984275\n\t    if (element.scrollHeight > parseInt(computed.height))\n\t      style.overflowY = 'scroll';\n\t  } else {\n\t    style.overflow = 'hidden';  // for Chrome to not render a scrollbar; IE keeps overflowY = 'scroll'\n\t  }\n\n\t  div.textContent = element.value.substring(0, position);\n\t  // the second special handling for input type=\"text\" vs textarea: spaces need to be replaced with non-breaking spaces - http://stackoverflow.com/a/13402035/1269037\n\t  if (element.nodeName === 'INPUT')\n\t    div.textContent = div.textContent.replace(/\\s/g, \"\\u00a0\");\n\n\t  var span = document.createElement('span');\n\t  // Wrapping must be replicated *exactly*, including when a long word gets\n\t  // onto the next line, with whitespace at the end of the line before (#7).\n\t  // The  *only* reliable way to do that is to copy the *entire* rest of the\n\t  // textarea's content into the <span> created at the caret position.\n\t  // for inputs, just '.' would be enough, but why bother?\n\t  span.textContent = element.value.substring(position) || '.';  // || because a completely empty faux span doesn't render at all\n\t  div.appendChild(span);\n\n\t  var coordinates = {\n\t    top: span.offsetTop + parseInt(computed['borderTopWidth']),\n\t    left: span.offsetLeft + parseInt(computed['borderLeftWidth'])\n\t  };\n\n\t  if (debug) {\n\t    span.style.backgroundColor = '#aaa';\n\t  } else {\n\t    document.body.removeChild(div);\n\t  }\n\n\t  return coordinates;\n\t}\n\n\tif (typeof module != \"undefined\" && typeof module.exports != \"undefined\") {\n\t  module.exports = getCaretCoordinates;\n\t} else {\n\t  window.getCaretCoordinates = getCaretCoordinates;\n\t}\n\n\t}());\n\n/***/ })\n/******/ ])\n});\n;","import { createButterbar } from \"../common/butterbar\";\nimport { __ } from \"../common/sakurairo_global\";\nimport { isMobile } from \"./mobile\";\nlet btnSerif, btnSansSerif;\nfunction Serif() {\n    if (isMobile()) {\n        createButterbar(__(\"\"));\n    }\n    document.body.classList.add(\"serif\");\n    localStorage.setItem(\"font_family\", \"serif\");\n    setButtonState('serif');\n}\nfunction SansSerif() {\n    document.body.classList.remove(\"serif\");\n    localStorage.setItem(\"font_family\", \"sans-serif\");\n    setButtonState('sans-serif');\n}\nfunction change_font_listener(btn) {\n    return () => {\n        const { name } = btn.dataset;\n        const nowFont = localStorage.getItem(\"font_family\");\n        if (name == nowFont) {\n            return;\n        }\n        else {\n            (name == 'serif') ? Serif() : SansSerif();\n        }\n    };\n}\nexport function loadFontSetting() {\n    const nowFont = localStorage.getItem(\"font_family\");\n    if (!nowFont || nowFont == \"serif\") {\n        document.body.classList.add(\"serif\");\n    }\n}\nfunction setButtonState(font_name) {\n    if (font_name === 'sans-serif' || localStorage.getItem(\"font_family\") == 'sans-serif') {\n        btnSerif.classList.remove(\"selected\");\n        btnSansSerif.classList.add(\"selected\");\n    }\n    else {\n        btnSansSerif.classList.remove(\"selected\");\n        btnSerif.classList.add(\"selected\");\n    }\n}\nfunction initDOMCache() {\n    btnSerif = document.getElementsByClassName(\"control-btn-serif\")[0];\n    btnSansSerif = document.getElementsByClassName(\"control-btn-sans-serif\")[0];\n    return btnSansSerif && btnSerif;\n}\nfunction initListener() {\n    btnSerif.addEventListener('click', change_font_listener(btnSerif));\n    btnSansSerif.addEventListener('click', change_font_listener(btnSansSerif));\n}\nexport function initFontControl() {\n    const result = initDOMCache();\n    if (!result)\n        localStorage.removeItem('font_family'); // A\n    loadFontSetting();\n    if (result) {\n        setButtonState();\n        initListener();\n    }\n}\n","let lastMsgId = 0;\nexport default class PromiseWorker {\n    w;\n    cb = {};\n    [Symbol.dispose];\n    constructor(worker) {\n        this.w = worker;\n        const callback = (e) => {\n            const payload = e.data;\n            const messageId = payload[0];\n            const callback = this.cb[messageId];\n            if (!callback)\n                return;\n            delete this.cb[messageId];\n            callback(payload[1], payload[2]);\n        };\n        worker.addEventListener('message', callback);\n        this.postMessage = (message, ...extraArgs) => {\n            const messageId = lastMsgId++;\n            const messageToSend = [messageId, message];\n            return new Promise((resolve, reject) => {\n                this.cb[messageId] = (error, result) => {\n                    if (error) {\n                        return reject(new Error(error.message));\n                    }\n                    resolve(result);\n                };\n                this.w.postMessage(messageToSend, ...extraArgs);\n            });\n        };\n        this[Symbol.dispose] = () => {\n            worker.removeEventListener('message', callback);\n        };\n    }\n    postMessage;\n}\n","/**\n * @module color-space/hsl\n */\nimport rgb from './rgb.js';\n\nvar hsl = {\n\tname: 'hsl',\n\tmin: [0, 0, 0],\n\tmax: [360, 100, 100],\n\tchannel: ['hue', 'saturation', 'lightness'],\n\talias: ['HSL'],\n\n\trgb: function (hsl) {\n\t\tvar h = hsl[0] / 360, s = hsl[1] / 100, l = hsl[2] / 100, t1, t2, t3, rgb, val, i = 0;\n\n\t\tif (s === 0) return val = l * 255, [val, val, val];\n\n\t\tt2 = l < 0.5 ? l * (1 + s) : l + s - l * s;\n\t\tt1 = 2 * l - t2;\n\n\t\trgb = [0, 0, 0];\n\t\tfor (; i < 3;) {\n\t\t\tt3 = h + 1 / 3 * - (i - 1);\n\t\t\tt3 < 0 ? t3++ : t3 > 1 && t3--;\n\t\t\tval = 6 * t3 < 1 ? t1 + (t2 - t1) * 6 * t3 :\n\t\t\t\t2 * t3 < 1 ? t2 :\n\t\t\t\t\t3 * t3 < 2 ? t1 + (t2 - t1) * (2 / 3 - t3) * 6 :\n\t\t\t\t\t\tt1;\n\t\t\trgb[i++] = val * 255;\n\t\t}\n\n\t\treturn rgb;\n\t}\n};\n\nexport default (hsl);\n\n\n//extend rgb\nrgb.hsl = function (rgb) {\n\tvar r = rgb[0] / 255,\n\t\tg = rgb[1] / 255,\n\t\tb = rgb[2] / 255,\n\t\tmin = Math.min(r, g, b),\n\t\tmax = Math.max(r, g, b),\n\t\tdelta = max - min,\n\t\th, s, l;\n\n\tif (max === min) {\n\t\th = 0;\n\t}\n\telse if (r === max) {\n\t\th = (g - b) / delta;\n\t}\n\telse if (g === max) {\n\t\th = 2 + (b - r) / delta;\n\t}\n\telse if (b === max) {\n\t\th = 4 + (r - g) / delta;\n\t}\n\n\t//FIXME h is possibly undefined\n\t//@ts-ignore\n\th = Math.min(h * 60, 360);\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tl = (min + max) / 2;\n\n\tif (max === min) {\n\t\ts = 0;\n\t}\n\telse if (l <= 0.5) {\n\t\ts = delta / (max + min);\n\t}\n\telse {\n\t\ts = delta / (2 - max - min);\n\t}\n\n\treturn [h, s * 100, l * 100];\n};\n","import PromiseWorker from '@kotorik/promise-worker';\nimport { isInDarkMode } from '../darkmode';\n//@ts-ignore\nimport 'color-space/hsl';\n//@ts-ignore\nimport rgb from 'color-space/rgb';\nimport { awaitImage, readImageDownsampling } from '@kotorik/palette';\nconst originalThemeSkinMatcing = getComputedStyle(document.documentElement).getPropertyValue('--theme-skin-matching');\nconst proc = (async () => {\n    try {\n        const worker = new PromiseWorker(\n        // Pass options to the Worker constructor to specify robustness level\n        new Worker(new URL('./worker.ts', import.meta.url), {\n            // This will be used during worker initialization\n            name: 'theme-color-worker',\n            //  robustness level \n            type: 'module',\n            //  robustness  \"enforce\"\n            credentials: 'omit'\n        }));\n        // Return a modified postMessage function to always include transfer and robustness level\n        return (data, options) => {\n            // @ts-ignore - Add robustness level to prevent browser warning\n            return worker.postMessage(data, {\n                transfer: options?.transfer || [],\n                //  robustness level \n                transferList: options?.transfer || [],\n                robustness: \"enforce\", //  robustness \n                // Force TypeScript to accept this property by using any type\n            });\n        };\n    }\n    catch (error) {\n        console.warn('');\n        const module = import('./calc');\n        return async (data, options) => {\n            const { default: calc } = await module;\n            return calc(data);\n        };\n    }\n})();\nlet currentColor = [0, 0, 0, 0];\nexport function hslaCSSText([h, s, l, a]) {\n    if (a) {\n        return \"hsla(\" + h + \"deg,\" + s + \"%,\" + l + \"%,\" + a + \")\";\n    }\n    else {\n        return \"hsl(\" + h + \"deg,\" + s + \"%,\" + l + \"%)\";\n    }\n}\nexport async function getThemeColorFromImageElement(imgElement) {\n    try {\n        await awaitImage(imgElement);\n        const imageData = readImageDownsampling(imgElement, 10000);\n        // Use the modified postMessage function\n        const result = await (await proc)(imageData.data, {\n            transfer: [imageData.data.buffer]\n        });\n        return result;\n    }\n    catch (e) {\n        console.error(e);\n        return null;\n    }\n}\nfunction _updateThemeColorMeta(color_css) {\n    const meta = document.querySelector('meta[name=theme-color]');\n    meta && (meta.content = color_css);\n}\nexport async function updateThemeSkin(coverBGUrl) {\n    // \n    if (!_iro.extract_theme_skin)\n        return;\n    const imgElement = document.createElement('img');\n    imgElement.src = coverBGUrl;\n    imgElement.crossOrigin = \"anonymous\";\n    const rgba = await getThemeColorFromImageElement(imgElement);\n    if (rgba) {\n        currentColor = rgba;\n        _setColor();\n    }\n    else {\n        _updateThemeColorMeta(originalThemeSkinMatcing); //\n    }\n}\nfunction _setColor(darkmode) {\n    // \n    if (!_iro.extract_theme_skin)\n        return;\n    // Convert the RGB color to HSL\n    let hsl = rgb.hsl(currentColor);\n    // Ensure base color isn't too extreme - more strict bounds\n    hsl[1] = Math.min(Math.max(hsl[1], 30), 85); // Keep saturation in reasonable range\n    hsl[2] = Math.min(Math.max(hsl[2], 35), 65); // Keep lightness in middle range\n    // Create a darker version for theme-skin-matching\n    const matchingColor = [...hsl, currentColor[3]];\n    // No saturation adjustment, keep original\n    matchingColor[1] = hsl[1];\n    // Ensure it doesn't go too dark or too light, stricter bounds\n    matchingColor[2] = Math.min(Math.max(hsl[2] * 0.85, 30), 55); // Reduced lightness multiplier\n    // Create a lighter version for theme-skin-dark (despite the name)\n    const lightColor = [...hsl, currentColor[3]];\n    // No saturation adjustment, keep original\n    lightColor[1] = hsl[1];\n    // Controlled lightness adjustment with stricter bounds, reduced multiplier\n    lightColor[2] = Math.min(Math.max(hsl[2] * 1.15, 45), 70); // Further reduced multiplier from 1.3 to 1.15\n    // Select the appropriate color based on dark mode state\n    let hsla = (typeof darkmode == 'undefined' ? isInDarkMode() : darkmode) ? lightColor : matchingColor;\n    // Update the theme color meta tag\n    _updateThemeColorMeta(hslaCSSText(hsla));\n    //  extract_theme_skin\n    document.documentElement.style.setProperty('--theme-skin-matching', hslaCSSText(matchingColor));\n    document.documentElement.style.setProperty('--theme-skin-dark', hslaCSSText(lightColor));\n}\nexport function initThemeColor() {\n    // \n    document.addEventListener('coverBG_change', (({ detail: coverBGUrl }) => updateThemeSkin(coverBGUrl)));\n    // \n    document.addEventListener('darkmode', (({ detail: next }) => _setColor(next)));\n}\n// export function getForeground(rgba: Vector4) {\n//     const hsl = rgb.hsl(rgba);\n//     // Use a more conservative threshold to determine text color\n//     // This helps ensure text remains readable regardless of background\n//     return hsl[2] > 60 ? [0, 0, 0, 1] as Vector4 : [0, 0, 100, 1] as Vector4; // Increased threshold for better contrast\n// }\nexport function getHighlight(rgba) {\n    const hsl = rgb.hsl(rgba);\n    // Create a highlight with more controlled adjustments\n    const highlightHsl = [...hsl];\n    // First ensure base values are in good ranges - stricter bounds\n    highlightHsl[1] = Math.min(Math.max(highlightHsl[1], 30), 85); // Maintain saturation range\n    highlightHsl[2] = Math.min(Math.max(highlightHsl[2], 40), 65); // Tighter lightness range, reduced upper bound\n    // No saturation adjustments at all\n    // No lightness adjustments beyond the bounds check\n    return [...highlightHsl, rgba[3]];\n}\n","let readyFunctionList = [];\n/**\n * \n * @param func \n * @returns \n */\nexport const onlyOnceATime = (func) => {\n    let isRunning = false;\n    return (...args) => {\n        if (!isRunning) {\n            isRunning = true;\n            try {\n                const result = func(...args);\n                if (result instanceof Promise) {\n                    result.finally(() => isRunning = false);\n                }\n                else {\n                    isRunning = false;\n                }\n                return result;\n            }\n            catch (e) {\n                console.warn(e);\n                isRunning = false;\n            }\n        }\n    };\n};\nconst whileReady = () => {\n    document.removeEventListener('DOMContentLoaded', whileReady);\n    for (const fn of readyFunctionList) {\n        fn();\n    }\n    readyFunctionList = [];\n};\n/**\n * DOM\n * @seealso https://developer.mozilla.org/zh-CN/docs/Web/API/Document/readyState\n * @param fn \n */\nexport const ready = function (fn) {\n    //interactive:DOMContentLoaded\n    //complete:load\n    if (document.readyState !== 'loading') {\n        return fn();\n    }\n    if (readyFunctionList.length == 0) {\n        document.addEventListener('DOMContentLoaded', whileReady, false);\n    }\n    readyFunctionList.push(fn);\n};\n/**\n * \n * @param fileName \n * @returns \n */\nexport const getBaseName = (fileName) => fileName.replace(/\\.\\w+$/, '');\n// TODO: CSS\nexport function slideToggle(el, duration = 1000, mode = '') {\n    const dom = el;\n    dom.status = dom.status || getComputedStyle(dom, null)['display'];\n    const flag = dom.status != 'none';\n    if ((flag == true && mode == \"show\") || (flag == false && mode == \"hide\"))\n        return;\n    dom.status = flag ? 'none' : 'block';\n    dom.style.transition = 'height ' + duration / 1000 + 's';\n    dom.style.overflow = 'hidden';\n    clearTimeout(dom.tagTimer);\n    dom.tagTimer = dom.tagTimer || null;\n    dom.style.display = 'block';\n    dom.tagHeight = dom.tagHeight || dom.clientHeight + 'px';\n    dom.style.display = '';\n    dom.style.height = flag ? dom.tagHeight : \"0px\";\n    setTimeout(() => {\n        dom.style.height = flag ? \"0px\" : dom.tagHeight;\n    }, 0);\n    dom.tagTimer = setTimeout(() => {\n        dom.style.display = flag ? 'none' : 'block';\n        dom.style.transition = '';\n        dom.style.overflow = '';\n        dom.style.height = '';\n        dom.status = dom.tagHeight = null;\n    }, duration);\n}\nexport function buildAPI(apiPath, params = {}, nonce = true) {\n    const path = new URL(apiPath);\n    const { searchParams } = path;\n    for (const [key, value] of Object.entries(params)) {\n        searchParams.set(key, value);\n    }\n    if (nonce)\n        searchParams.set(\"_wpnonce\", _iro.nonce);\n    return path.toString();\n}\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nexport function noop() { }\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + ({\"2065\":\"lg-2\",\"2236\":\"lg-12\",\"2661\":\"lg-6\",\"3042\":\"lg-9\",\"3103\":\"theme-color-worker\",\"5459\":\"lg-0\",\"5470\":\"lg-5\",\"6458\":\"lg-1\",\"7435\":\"lg-8\",\"8268\":\"lg-7\",\"8279\":\"lg-4\",\"8599\":\"lg-11\",\"9256\":\"lg-3\",\"9438\":\"lg-10\"}[chunkId] || chunkId) + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".css\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript && document.currentScript.tagName.toUpperCase() === 'SCRIPT')\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/^blob:/, \"\").replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","if (typeof document === \"undefined\") return;\nvar createStylesheet = (chunkId, fullhref, oldTag, resolve, reject) => {\n\tvar linkTag = document.createElement(\"link\");\n\n\tlinkTag.rel = \"stylesheet\";\n\tlinkTag.type = \"text/css\";\n\tif (__webpack_require__.nc) {\n\t\tlinkTag.nonce = __webpack_require__.nc;\n\t}\n\tvar onLinkComplete = (event) => {\n\t\t// avoid mem leaks.\n\t\tlinkTag.onerror = linkTag.onload = null;\n\t\tif (event.type === 'load') {\n\t\t\tresolve();\n\t\t} else {\n\t\t\tvar errorType = event && event.type;\n\t\t\tvar realHref = event && event.target && event.target.href || fullhref;\n\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + errorType + \": \" + realHref + \")\");\n\t\t\terr.name = \"ChunkLoadError\";\n\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n\t\t\terr.type = errorType;\n\t\t\terr.request = realHref;\n\t\t\tif (linkTag.parentNode) linkTag.parentNode.removeChild(linkTag)\n\t\t\treject(err);\n\t\t}\n\t}\n\tlinkTag.onerror = linkTag.onload = onLinkComplete;\n\tlinkTag.href = fullhref;\n\n\n\tif (oldTag) {\n\t\toldTag.parentNode.insertBefore(linkTag, oldTag.nextSibling);\n\t} else {\n\t\tdocument.head.appendChild(linkTag);\n\t}\n\treturn linkTag;\n};\nvar findStylesheet = (href, fullhref) => {\n\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n\tfor(var i = 0; i < existingLinkTags.length; i++) {\n\t\tvar tag = existingLinkTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return tag;\n\t}\n\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n\tfor(var i = 0; i < existingStyleTags.length; i++) {\n\t\tvar tag = existingStyleTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\");\n\t\tif(dataHref === href || dataHref === fullhref) return tag;\n\t}\n};\nvar loadStylesheet = (chunkId) => {\n\treturn new Promise((resolve, reject) => {\n\t\tvar href = __webpack_require__.miniCssF(chunkId);\n\t\tvar fullhref = __webpack_require__.p + href;\n\t\tif(findStylesheet(href, fullhref)) return resolve();\n\t\tcreateStylesheet(chunkId, fullhref, null, resolve, reject);\n\t});\n}\n// object to store loaded CSS chunks\nvar installedCssChunks = {\n\t3524: 0\n};\n\n__webpack_require__.f.miniCss = (chunkId, promises) => {\n\tvar cssChunks = {\"1383\":1,\"3982\":1};\n\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n\t\tpromises.push(installedCssChunks[chunkId] = loadStylesheet(chunkId).then(() => {\n\t\t\tinstalledCssChunks[chunkId] = 0;\n\t\t}, (e) => {\n\t\t\tdelete installedCssChunks[chunkId];\n\t\t\tthrow e;\n\t\t}));\n\t}\n};\n\n// no hmr\n\n// no prefetching\n\n// no preloaded","__webpack_require__.b = (typeof document !== 'undefined' && document.baseURI) || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t3524: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(!/^(1383|3982)$/.test(chunkId)) {\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = globalThis[\"webpackChunksakurairo_scripts\"] = globalThis[\"webpackChunksakurairo_scripts\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [8538], () => (__webpack_require__(3145)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","leafPrototypes","getProto","inProgress","dataWebpackPrefix","xyz","name","min","channel","alias","whitepoint","A","C","D50","D55","D65","D75","F2","F7","F11","E","max","rgb","_xyz","white","r","g","b","x","y","z","Math","pow","clearButterbar","butterBar","document","getElementsByClassName","length","i","remove","createButterbar","message","keep","div","createElement","p","classList","add","innerHTML","appendChild","body","setTimeout","initFooter","action","footer","getElementById","emojiPanel","querySelector","addEventListener","initialize","hideFooter","checkFooterVisibility","window","scrollY","documentElement","scrollTop","innerHeight","scrollHeight","contains","outerWidth","requestAnimationFrame","wrapper","paddingValue","offsetHeight","style","paddingBottom","adjustWrapperPadding","removeEventListener","onScroll","ticking","bgvideo","videoList","_iro","movies","split","unplayedIndex","Array","fill","map","_","index","aplayersToResume","_getNextRandomVideo","nextIndex","floor","random","splice","getVideo","video_stu","fileName","__","bottom","setAttribute","URL","url","location","origin","toString","getBaseName","splay","video_btn","display","top","float_player_on","then","pauseAllPlayer","play","e","console","warn","spause","pause","player","liveplay","undefined","oncanplay","coverVideo","this","onended","loop","click","video_add","async","coverVideoIni","videos","querySelectorAll","canPlayType","video","src","dataset","autoplay","Hls","ext_shared_lib","importExternal","default","reason","isSupported","error","hls","loadSource","attachMedia","on","Events","MANIFEST_PARSED","initHLS","forEach","canPlayHandler","lazyloadPatch","poster","changeSkin","tagId","bg_url","site_bg_as_cover","changeCoverBG","getCoverPath","skin_bg0","skin_bg1","skin_bg2","skin_bg3","skin_bg4","backgroundImage","bgButtonAddListener","next","pre","onclick","nextBG","preBG","auto_height","windowheight","land_at_home","centerbg","height","minHeight","headertop","PE","blank","paddingTop","live","CE","comments_fold","comments_main","slideToggle","archives","h3","getElementsByTagName","handler","preventDefault","stopPropagation","target","nextElementSibling","loading","addSkinMenuListener","cached","tagid","id","parentElement","turnOnDarkMode","turnOffDarkMode","localStorage","setItem","closeSkinMenu","checkBgImgSetting","getItem","checkCoverBackground","getCurrentBG","visibility","imgError","ele","type","svg404","encodeURIComponent","onerror","missing_avatars","missing_images","btn_playControl","paused","coverVideoMute","btn_volumeControl","muted","killCoverVideo","mail_me","open","email_name","email_domain","headertop_down","coverOffset","getBoundingClientRect","pageYOffset","scrollTo","behavior","defaultStr","_sakurairoi18n","_$","replacements","template","replace","sakurairoGlobal","opt","build","BUILD_INFO","registerOnGlobal","key","value","Object","defineProperty","writable","enumerable","_sakurairo","defaults","srcset","selector","root","rootMargin","threshold","LazyLoad","constructor","elms","options","opts","init","obs","IntersectionObserver","entries","entry","isIntersecting","unobserve","doLoad","image","observe","load","element","getAttribute","tagName","toLowerCase","includes","destroy","disconnect","instance","lazyload","Lazyload","initEffect","effect","cfg","particlesJS","JSON","parse","initParticle","init_medal_effects_main","overflowY","medals","medal","container","particleColor","particleCount","particle","className","assign","position","width","background","borderRadius","opacity","left","transition","pointerEvents","boxShadow","transform","createParticles","medalLevel","achievement","nextLevel","progress","navigator","vibrate","existingModal","modal","modalContent","medalIcon","medalTitle","textContent","achievementElem","progressContainer","roundedProgress","round","text","language","particlesContainer","closeButton","closeModal","medalType","size","animationName","substr","xMove","yMove","styleSheet","styleSheets","animationRule","insertRule","cssRules","head","animation","animationDelay","createModalParticles","showMedalDetails","overflow","initMedalEffects","transformStyle","icon","content","particles","rect","clientX","clientY","centerX","centerY","deltaX","deltaY","test","userAgent","log","goldMedals","animationRules","supportsMixBlendMode","CSS","supports","getComputedStyle","ambient","backgroundSize","zIndex","mixBlendMode","xPercent","yPercent","fleck","idx","pos","filter","pulseEffect","addShineEffect","QueryStorage","isLiveSearchEnabled","normalized","trim","renderSearchResult","keyword","link","title","showPreview","terms","Boolean","escapedTerm","highlightRegExp","RegExp","match","query","data","sectionEnd","headerEnd","normalizedKeyword","resultContainer","closest","tabBar","tabSwitch","articleResults","shuoshuoResults","pageResults","categoryResults","tagResults","commentResults","finalHtml","tabs","matchedItems","array","term","join","regexp","v","values","some","String","Cx","item","typeContainer","firstTabSection","firstContentSection","setProperty","childNodes","nextSibling","tabSection","tabClass","from","find","c","startsWith","typeKey","slice","el","sibling","previousElementSibling","contentSection","SearchDialog","searchButton","searchDialog","searchForm","detail","searchInput","resultWrapper","initialized","hasResultContainer","canLiveSearch","live_search","canShowPreview","live_search_preview","lastFocusedElement","closeSearch","close","focus","once","isActive","toggle","event","activeElement","HTMLElement","showModal","Node","val","otxt","sessionStorage","removeItem","fetch","resp","ok","json","status","catch","search_a","buildAPI","api","searchFlag","oninput","clearTimeout","initIsMobileCache","pjax","Firefox","Edg","Chrome","OPR","Version","initPjax","add_copyright","secondary","isMobile","show_hide","activate_widget","hash","substring","tabIndex","checkDarkModeSetting","ready","aplayerInit","initTypedJs","Promise","all","extract_theme_skin","initThemeColor","bgUrl","updateThemeSkin","changskin","close_SkinMenu","skinMenu","mb_to_top","common","cssText","smallScreenHandler","recalcuScrollbar","result","largeScreenHandler","scrollHandler","XLS","hitokoto","init_post_cover_as_bg","initFontControl","preload","removed","removeScreen","preload_blur","animate","backdropFilter","duration","easing","onfinish","readyState","preload_screen","POWERMODE","post_list_show_animation","getTextStyle","color","about_us","applyShowUpAnimation","elements","callback","io","article","hslaCSSText","h","s","l","a","hsl","load_post_timer","load_post","onlyOnceATime","now_href","href","pagination_a","innerText","DOM","DOMParser","parseFromString","paga","paga_innerText","nextHref","main","append","dpga","addps","code_highlight_style","dispatchEvent","CustomEvent","tempScrollTop","thumbImage","extract_article_highlight","getPropertyValue","finalImageElement","crossOrigin","getThemeColorFromImageElement","rgba","getHighlight","elementsToAnimate","XLS_Listener","intersectionRatio","_page_next","href_page_next","load_key","load_time","parseInt","minpicturebytes","ncycles","netsize","samplefac","NeuQuant","pixels","arguments","nextSource","nextKey","prototype","hasOwnProperty","call","Error","maxnetpos","netbiasshift","intbiasshift","intbias","gammashift","gamma","betashift","beta","betagamma","initrad","radiusbiasshift","radiusbias","initradius","radiusdec","alphabiasshift","initalpha","radbiasshift","radbias","alpharadbshift","alpharadbias","network","netindex","Uint32Array","bias","freq","radpower","Float64Array","unbiasnet","altersingle","alpha","alterneigh","radius","lo","abs","hi","j","k","m","contest","bestd","bestbiasd","bestpos","bestbiaspos","n","dist","biasdist","betafreq","inxbuild","previouscol","startpos","q","smallpos","smallval","learn","lengthcount","alphadec","samplepixels","step","delta","rad","pix","buildColorMap","getColorMap","Uint8Array","findClosest","palette","minpos","mind","dr","dg","db","d","neuquant","img","img_rgb","Uint8ClampedArray","len","rgb_i","rgba2Rgb","palette$1","nq","indexed_pixel","indexed","memo","pixel","push","centroid","label","count","counts","_prepare2DContext","canvas","ctx","getContext","_prepare2DContextAsync","OffscreenCanvas","awaitImage","imgElement","resolve","reject","complete","_readImage","prepareCtx","imgSource","naturalWidth","naturalHeight","drawImage","getImageData","bind","_readImageDownsampling","maxSample","scale","scaleSqrt","sqrt","readImageDownsampling","promisifyRequest","request","oncomplete","onsuccess","onabort","createStore","dbName","storeName","indexedDB","onupgradeneeded","createObjectStore","dbp","txMode","transaction","objectStore","store","bgn","blob_url","RecordedBG","noop","parseCSSUrl","getAPIPath","useBGN","cover_api_url","cover_api","random_graphs_mts","searchParams","set","search","cache_cover","get","coverBG","ArrayBuffer","revokeObjectURL","createObjectURL","Blob","finally","headers","Accept","Accept_Image","buf","arrayBuffer","put","TypeError","delete","del","fetchThenCache","lastPostCover","first_is_home","post_cover_as_bg","post_feature_img","w","exports","loadCSS","before","media","attributes","ref","doc","ss","refs","sheets","attributeName","rel","cb","parentNode","insertBefore","onloadcssdefined","resolvedHref","loadCB","cache_is_mobile","mediaQuery","matchMedia","matches","refreshIsMobileCache","addListener","ev","_version_ctrl","cookie_version_control","uaMatches","matchAll","checkList","version","parseFloat","acceptList","days","expires","Date","now","toUTCString","cookie","setCookie","reverse","getSupportedImageMimeList","yiyan","api_group","yiyan_api","api_path","txt","res","from_who","PRISM_VERSION","PKG_INFO","gen_top_bar","code_a","children","lang","matchResult","t","toUpperCase","hljs_click_callback","cloneElement","cloneNode","hljs_process","code","hljs","importHighlightjs","highlightElement","initLineNumbersOnLoad","PrismBaseUrl","code_highlight_prism","autoload_path","resolvePath","currentPrismThemeCSS","themeCSS","light","dark","theme","theme_name","loadPrismCSS","darkmodeOn","nextCSSHref","nextCSSElement","prism_darkmode_callback","deattachPrismCallback","importPrismJS","Prism","isInDarkMode","plugins","autoloader","languages_path","code_highlight","loadLineNumber","loadMatchBraces","loadCommandLine","line_number_all","prompt","host","user","firstChild","fileHighlight","highlight","prism_process","pre_a","insertAdjacentHTML","ClipboardJS","typedInstance","disableTypedJsIfExist","Typed","inDarkMode","informDarkModeChange","nextValue","mediaQueryCallback","darkmode","saveUserSetting","ifDarkmodeShouldOn","userTriggered","backgroundColor","dm_strategy","today","getHours","checkTime","removeListener","lab","author_name","site_name","site_url","toLocaleDateString","copytext","selection","getSelection","selectionText","selectionTxt","htmlData","textData","clipboardData","setData","setClipboardText","clipboardRef","STORAGE_KEY","CDN_LIST","currentCDNIndex","config","num","isNaN","getPreferCDNIndex","currentCDN","raw","relativePath","packageName","path","script","onload","factory","modules","installedModules","moduleId","module","loaded","innerWidth","context","particlePointer","rendering","getRandom","getColor","colorful","u","createParticle","velocity","caret","bcr","offset","selectionEnd","rangeCount","range","getRangeAt","startNode","startContainer","nodeType","TEXT_NODE","getCaret","numParticles","shake","intensity","marginLeft","marginTop","clearRect","rendered","globalAlpha","fillStyle","fillRect","properties","isFirefox","mozInnerScreenX","getCaretCoordinates","debug","removeChild","computed","currentStyle","whiteSpace","nodeName","wordWrap","prop","span","coordinates","offsetTop","offsetLeft","btnSerif","btnSansSerif","change_font_listener","btn","setButtonState","loadFontSetting","nowFont","font_name","lastMsgId","PromiseWorker","Symbol","dispose","worker","payload","messageId","postMessage","extraArgs","messageToSend","originalThemeSkinMatcing","proc","Worker","credentials","transfer","transferList","robustness","calc","currentColor","imageData","buffer","_updateThemeColorMeta","color_css","meta","coverBGUrl","_setColor","matchingColor","lightColor","highlightHsl","readyFunctionList","func","isRunning","args","whileReady","fn","mode","dom","flag","tagTimer","tagHeight","clientHeight","apiPath","params","nonce","__webpack_module_cache__","__webpack_require__","cachedModule","__webpack_modules__","O","chunkIds","priority","notFulfilled","Infinity","fulfilled","keys","every","getter","__esModule","getPrototypeOf","obj","ns","create","def","current","indexOf","getOwnPropertyNames","definition","o","f","chunkId","reduce","promises","miniCssF","globalThis","Function","done","needAttach","scripts","charset","nc","onScriptComplete","prev","timeout","doneFns","toStringTag","scriptUrl","importScripts","currentScript","loadStylesheet","fullhref","existingLinkTags","dataHref","tag","existingStyleTags","findStylesheet","oldTag","linkTag","errorType","realHref","err","createStylesheet","installedCssChunks","miniCss","baseURI","self","installedChunks","installedChunkData","promise","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","__webpack_exports__"],"sourceRoot":""}