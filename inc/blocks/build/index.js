(()=>{"use strict";var e={n:l=>{var a=l&&l.__esModule?()=>l.default:()=>l;return e.d(a,{a}),a},d:(l,a)=>{for(var t in a)e.o(a,t)&&!e.o(l,t)&&Object.defineProperty(l,t,{enumerable:!0,get:a[t]})},o:(e,l)=>Object.prototype.hasOwnProperty.call(e,l)};const l=window.wp.blocks,a=window.wp.domReady;var t=e.n(a);const o=window.wp.hooks,i=(window.wp.i18n,window.wp.blockEditor),s=window.wp.components,r=window.wp.element,n=window.wp.primitives,c=window.ReactJSXRuntime,d=(0,c.jsx)(n.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)(n.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"})});let b={};switch((iroBlockEditor.language||window.navigator.language||"zh-CN").replace("_","-")){case"zh-CN":case"zh-Hans":b={hljsTitle:"高亮语言设置",hljsLabel:"高亮显示遵循的语法",hljsPlaceholder:"此处编写代码...",hljsAuto:"自动识别"};break;case"zh-TW":case"zh-HK":case"zh-MO":b={hljsTitle:"高亮語言設置",hljsLabel:"高亮顯示遵循的語法",hljsPlaceholder:"此處編寫代碼...",hljsAuto:"自動識別"};break;case"ja":case"ja-JP":b={hljsTitle:"シンタックスハイライト設定",hljsLabel:"ハイライト対象の言語文法",hljsPlaceholder:"コードを入力...",hljsAuto:"自動識別"};break;default:b={hljsTitle:"Syntax Highlighting Settings",hljsLabel:"Language grammar for highlighting",hljsPlaceholder:"Enter your code here...",hljsAuto:"Auto Detect"}}const u=[{label:b.hljsAuto||"Auto Detect",value:""},{label:"HTML",value:"html"},{label:"CSS",value:"css"},{label:"JavaScript",value:"javascript"},{label:"TypeScript",value:"typescript"},{label:"PHP",value:"php"},{label:"SCSS",value:"scss"},{label:"LESS",value:"less"},{label:"Stylus",value:"stylus"},{label:"Vue",value:"vue"},{label:"React+js",value:"jsx"},{label:"React+ts",value:"tsx"},{label:"Python",value:"python"},{label:"Java",value:"java"},{label:"JSON",value:"json"},{label:"Dart",value:"dart"},{label:"C",value:"c"},{label:"C++",value:"cpp"},{label:"C#",value:"csharp"},{label:"Go",value:"go"},{label:"Lua",value:"lua"},{label:"Swift",value:"swift"},{label:"Kotlin",value:"kotlin"},{label:"Ruby",value:"ruby"},{label:"Rust",value:"rust"},{label:"JSP",value:"jsp"},{label:"ASP",value:"asp"},{label:"YAML",value:"yaml"},{label:"TOML",value:"toml"},{label:"INI",value:"ini"},{label:"SQL",value:"sql"},{label:"XML",value:"xml"},{label:"bash",value:"bash"},{label:"CMD",value:"cmd"},{label:"PowerShell",value:"powershell"},{label:"VBScript",value:"vbscript"},{label:"Markdown",value:"markdown"},{label:"Plain Text",value:"plaintext"}];let h={};switch((iroBlockEditor.language||window.navigator.language||"zh-CN").replace("_","-")){case"zh-CN":case"zh-Hans":h={blockTitle:"提示块",typeTitle:"提示类型",typeLabel:"类型",placeholder:"此处输入内容...",taskLabel:"任务提示",warningLabel:"警告提示",nowayLabel:"禁止提示",buyLabel:"允许提示"};break;case"zh-TW":case"zh-HK":case"zh-MO":h={blockTitle:"提示區塊",typeTitle:"提示類型",typeLabel:"類型",placeholder:"此處輸入內容...",taskLabel:"任務提示",warningLabel:"警告提示",nowayLabel:"禁止提示",buyLabel:"允許提示"};break;case"ja":case"ja-JP":h={blockTitle:"ヒントブロック",typeTitle:"ヒントタイプ",typeLabel:"タイプ",placeholder:"ここに内容を入力...",taskLabel:"タスク",warningLabel:"警告",nowayLabel:"禁止",buyLabel:"許可"};break;default:h={blockTitle:"Callout Block",typeTitle:"Callout Type",typeLabel:"Type",placeholder:"Enter content here...",taskLabel:"Task",warningLabel:"Warning",nowayLabel:"Forbidden",buyLabel:"Allowed"}}const p={task:{label:h.taskLabel,icon:'<i class="fa-solid fa-clipboard-list"></i>',className:"task"},warning:{label:h.warningLabel,icon:'<i class="fa-solid fa-triangle-exclamation"></i>',className:"warning"},noway:{label:h.nowayLabel,icon:'<i class="fa-solid fa-square-xmark"></i>',className:"noway"},buy:{label:h.buyLabel,icon:'<i class="fa-solid fa-square-check"></i>',className:"buy"}};function g({attributes:e,setAttributes:l}){const{content:a,type:t,isExample:o}=e;if(o)return[(0,c.jsx)("img",{src:"https://docs.fuukei.org/short-code/noway.png",alt:"预览",style:{width:"100%",height:"auto",display:"block"}}),(0,c.jsx)("img",{src:"https://docs.fuukei.org/short-code/buy.png",alt:"预览",style:{width:"100%",height:"auto",display:"block"}}),(0,c.jsx)("img",{src:"https://docs.fuukei.org/short-code/warn.png",alt:"预览",style:{width:"100%",height:"auto",display:"block"}})];const n=(0,i.useBlockProps)(),d=p[t];return(0,c.jsxs)(r.Fragment,{children:[(0,c.jsx)(i.BlockControls,{children:(0,c.jsx)(s.ToolbarGroup,{children:(0,c.jsx)(s.ToolbarDropdownMenu,{icon:"admin-generic",label:h.typeTitle,controls:Object.entries(p).map(([e,{label:a}])=>({title:a,icon:!1,onClick:()=>l({type:e}),isActive:t===e}))})})}),(0,c.jsxs)("div",{...n,className:`shortcodestyle ${d.className}`,children:[(0,c.jsx)(r.RawHTML,{children:d.icon}),(0,c.jsx)(i.RichText,{tagName:"span",value:a,onChange:e=>l({content:e}),placeholder:h.placeholder})]})]})}let m={};switch((iroBlockEditor.language||window.navigator.language||"zh-CN").replace("_","-")){case"zh-CN":case"zh-Hans":m={blockTitle:"展示卡片",toolbarButtonLabel:"选择图片",panelTitle:"展示卡片设置",iconClassLabel:"FontAwesome 图标类名",iconClassHelp:"例如 fa-solid fa-book",titleLabel:"标题",imgUrlLabel:"图片链接（可选）",iconColorLabel:"图标颜色与按钮文字颜色",linkLabel:"跳转链接",iconPlaceholder:"输入图标类名...",titlePlaceholder:"输入卡片标题..."};break;case"zh-TW":case"zh-HK":case"zh-MO":m={blockTitle:"展示卡片",toolbarButtonLabel:"選擇圖片",panelTitle:"展示卡片設定",iconClassLabel:"FontAwesome 圖標類名",iconClassHelp:"例如 fa-solid fa-book",titleLabel:"標題",imgUrlLabel:"圖片連結（可選）",iconColorLabel:"圖標顏色與按鈕文字顏色",linkLabel:"跳轉連結",iconPlaceholder:"輸入圖標類名...",titlePlaceholder:"輸入卡片標題..."};break;case"ja":case"ja-JP":m={blockTitle:"カード表示",toolbarButtonLabel:"画像を選択",panelTitle:"カード表示設定",iconClassLabel:"FontAwesomeアイコンクラス",iconClassHelp:"例: fa-solid fa-book",titleLabel:"タイトル",imgUrlLabel:"画像リンク（任意）",iconColorLabel:"アイコンとボタンテキストの色",linkLabel:"リンク",iconPlaceholder:"アイコンクラスを入力...",titlePlaceholder:"カードタイトルを入力..."};break;default:m={blockTitle:"ShowCard",toolbarButtonLabel:"Select Image",panelTitle:"ShowCard Settings",iconClassLabel:"FontAwesome Icon Classes",iconClassHelp:"e.g., fa-solid fa-book",titleLabel:"Title",imgUrlLabel:"Image URL (Optional)",iconColorLabel:"Icon & Button Text Color",linkLabel:"Link",iconPlaceholder:"Enter icon classes...",titlePlaceholder:"Enter card title..."}}const v=m.titlePlaceholder;function x({attributes:e,setAttributes:l}){const{icon:a,title:t,img:o,color:n,link:d,isExample:b}=e;if(b)return(0,c.jsx)("img",{src:"https://docs.fuukei.org/short-code/showc.png",alt:"预览",style:{width:"100%",height:"auto",display:"block"}});const u=(0,i.useBlockProps)();return(0,c.jsxs)(r.Fragment,{children:[(0,c.jsx)(i.BlockControls,{children:(0,c.jsx)(s.ToolbarGroup,{children:(0,c.jsx)(i.MediaUploadCheck,{children:(0,c.jsx)(i.MediaUpload,{onSelect:e=>{l({img:e.url})},allowedTypes:["image"],render:({open:e})=>(0,c.jsx)(s.ToolbarButton,{icon:"format-image",label:m.toolbarButtonLabel,onClick:e})})})})}),(0,c.jsx)(i.InspectorControls,{children:(0,c.jsxs)(s.PanelBody,{title:m.panelTitle,initialOpen:!0,children:[(0,c.jsx)(s.TextControl,{label:m.iconClassLabel,value:a,onChange:e=>l({icon:e}),help:m.iconClassHelp}),(0,c.jsx)(s.TextControl,{label:m.titleLabel,value:t,onChange:e=>l({title:e})}),(0,c.jsx)(s.TextControl,{label:m.imgUrlLabel,value:o,onChange:e=>l({img:e})}),(0,c.jsx)("p",{children:(0,c.jsx)("strong",{children:m.iconColorLabel})}),(0,c.jsx)(s.ColorPicker,{color:n,onChangeComplete:e=>l({color:e.hex}),disableAlpha:!0}),(0,c.jsx)("p",{children:(0,c.jsx)("strong",{children:m.linkLabel})}),(0,c.jsx)(i.URLInputButton,{url:d,onChange:e=>l({link:e})})]})}),(0,c.jsxs)("div",{...u,className:"showcard",children:[(0,c.jsx)("div",{className:"img",style:{background:o?`url(${o}) center center / cover no-repeat`:"#ccc"},children:(0,c.jsx)("a",{href:d,children:(0,c.jsx)("button",{className:"showcard-button",style:{color:n},children:(0,c.jsx)("i",{className:"fa-solid fa-angle-right"})})})}),(0,c.jsxs)("div",{className:"icon-title",children:[(0,c.jsx)(r.RawHTML,{children:`<i class="${a}" style="color:${n} !important;"></i>`}),(0,c.jsx)("span",{className:"title",children:t})]})]})]})}let k={};switch((iroBlockEditor.language||window.navigator.language||"zh-CN").replace("_","-")){case"zh-CN":case"zh-Hans":k={blockTitle:"对话块",imageLabel:"设置头像",directionLabel:"切换方向",placeholder:"请输入对话内容…"};break;case"zh-TW":case"zh-HK":case"zh-MO":k={blockTitle:"對話區塊",imageLabel:"設定大頭貼",directionLabel:"切換方向",placeholder:"請輸入對話內容…"};break;case"ja":case"ja-JP":k={blockTitle:"会話ブロック",imageLabel:"アバター設定",directionLabel:"方向切替",placeholder:"ここに会話内容を入力…"};break;default:k={blockTitle:"Conversations Block",imageLabel:"Set Avatar",directionLabel:"Toggle Direction",placeholder:"Enter conversation text…"}}let j={};switch((iroBlockEditor.language||window.navigator.language||"zh-CN").replace("_","-")){case"zh-CN":case"zh-Hans":j={blockTitle:"Bilibili 视频",placeholder:"请输入 Bilibili 视频 ID（如 BV1xx、av123456）",label:"视频 ID",error:"无效的视频 ID，请输入 BV 或 av 编号。"};break;case"zh-TW":case"zh-HK":case"zh-MO":j={blockTitle:"Bilibili 視頻",placeholder:"請輸入 Bilibili 視頻 ID（例如 BV1xx、av123456）",label:"視頻 ID",error:"無效的視頻 ID，請輸入 BV 或 av 編號。"};break;case"ja":case"ja-JP":j={blockTitle:"Bilibili ビデオ",placeholder:"Bilibiliの動画ID（例：BV1xx、av123456）を入力してください",label:"動画 ID",error:"無効な動画IDです。BVまたはav形式で入力してください。"};break;default:j={blockTitle:"Bilibili Video",placeholder:"Enter Bilibili Video ID (e.g. BV1xx or av123456)",label:"Video ID",error:"Invalid video ID. Please enter BV or av format."}}t()(()=>{const e=(0,l.getCategories)(),a=[...e.slice(0,1),{slug:"sakurairo",title:"Sakurairo"},...e.slice(1)];(0,l.setCategories)(a)}),function(){try{!function(){function e({attributes:e,setAttributes:l}){const{content:a,language:t}=e,o=(0,i.useBlockProps)();let n=t||"",h=(u.find(e=>e.value===n)||u[0]).label;return(0,c.jsxs)(r.Fragment,{children:[(0,c.jsx)(i.BlockControls,{children:(0,c.jsx)(s.ToolbarGroup,{children:(0,c.jsx)(s.DropdownMenu,{icon:d,label:b.hljsTitle,text:h,controls:u.map(({value:e,label:a})=>({title:a,isActive:n===e,onClick:()=>l({language:e})}))})})}),(0,c.jsx)("pre",{...o,children:(0,c.jsx)("code",{className:n?`language-${n}`:"",children:(0,c.jsx)(i.PlainText,{value:a,onChange:e=>l({content:e}),placeholder:b.hljsPlaceholder})})})]})}(0,o.addFilter)("blocks.registerBlockType","sakurairo/code-language-support",l=>"core/code"!==l.name?l:{...l,attributes:{...l.attributes,language:{type:"string",default:""}},edit:e})}(),(0,l.registerBlockType)("sakurairo/notice-block",{title:h.blockTitle,description:"",icon:"format-status",category:"sakurairo",attributes:{content:{type:"string",source:"html",selector:"span"},type:{type:"string",default:"task"},isExample:{type:"boolean",default:!1}},edit:g,save({attributes:e}){const{content:l,type:a}=e,{icon:t,className:o}=p[a];return(0,c.jsxs)("div",{className:`shortcodestyle ${o}`,children:[(0,c.jsx)(r.RawHTML,{children:t}),(0,c.jsx)(i.RichText.Content,{tagName:"span",value:l})]})},example:{attributes:{isExample:!0}}}),(0,l.registerBlockType)("sakurairo/showcard-block",{title:m.blockTitle,icon:"id-alt",category:"sakurairo",attributes:{icon:{type:"string",default:"fa-regular fa-bookmark"},title:{type:"string",default:v},img:{type:"string",default:""},color:{type:"string",default:"#ffffff"},link:{type:"string",default:""},isExample:{type:"boolean",default:!1}},edit:x,save({attributes:e}){const{icon:l,title:a,img:t,color:o,link:i}=e;return(0,c.jsxs)("div",{className:"showcard",children:[(0,c.jsx)("div",{className:"img",style:{background:`url(${t}) center center / cover no-repeat`},children:(0,c.jsx)("a",{href:i,children:(0,c.jsx)("button",{className:"showcard-button",style:{color:`${o} !important`},children:(0,c.jsx)("i",{className:"fa-solid fa-angle-right"})})})}),(0,c.jsxs)("div",{className:"icon-title",children:[(0,c.jsx)(r.RawHTML,{children:`<i class="${l}" style="color:${o} !important;"></i>`}),(0,c.jsx)("span",{className:"title",children:a})]})]})},example:{attributes:{isExample:!0}}}),(0,l.registerBlockType)("sakurairo/conversations-block",{title:k.blockTitle,icon:(0,r.createElement)("i",{className:"fa-regular fa-comments"}),category:"sakurairo",attributes:{avatar:{type:"string",default:""},direction:{type:"string",default:"row"},content:{type:"string",source:"html",selector:".conversations-code-text"},isExample:{type:"boolean",default:!1}},edit:function({attributes:e,setAttributes:l}){const{avatar:a,direction:t,content:o,isExample:n}=e;if(n)return(0,c.jsx)("img",{src:"https://docs.fuukei.org/short-code/dis.png",alt:"预览",style:{width:"100%",height:"auto",display:"block"}});const d=(0,i.useBlockProps)();return(0,c.jsxs)(r.Fragment,{children:[(0,c.jsx)(i.BlockControls,{children:(0,c.jsxs)(s.ToolbarGroup,{children:[(0,c.jsx)(i.MediaUploadCheck,{children:(0,c.jsx)(i.MediaUpload,{onSelect:e=>l({avatar:e.url}),allowedTypes:["image"],value:a,render:({open:e})=>(0,c.jsx)(s.ToolbarButton,{icon:"format-image",label:k.imageLabel,onClick:e})})}),(0,c.jsx)(s.ToolbarButton,{icon:"row"===t?"arrow-right-alt":"arrow-left-alt",label:k.directionLabel,onClick:()=>{l({direction:"row"===t?"row-reverse":"row"})}})]})}),(0,c.jsxs)("div",{...d,className:"conversations-code",style:{display:"flex",flexDirection:t},children:[a?(0,c.jsx)("img",{src:a,alt:""}):(0,c.jsx)(s.TextControl,{placeholder:k.imageLabel+" URL…",value:a,onChange:e=>l({avatar:e})}),(0,c.jsx)(i.RichText,{tagName:"div",className:"conversations-code-text",placeholder:k.placeholder,value:o,onChange:e=>l({content:e})})]})]})},save({attributes:e}){const{avatar:l,direction:a,content:t}=e;return(0,c.jsxs)("div",{className:"conversations-code",style:{display:"flex",flexDirection:a},children:[l&&(0,c.jsx)("img",{src:l,alt:""}),(0,c.jsx)("div",{className:"conversations-code-text",dangerouslySetInnerHTML:{__html:t}})]})},example:{attributes:{isExample:!0}}}),(0,l.registerBlockType)("sakurairo/vbilibili",{title:j.blockTitle,icon:(0,r.createElement)("i",{className:"fa-brands fa-bilibili"}),category:"sakurairo",supports:{html:!1},attributes:{videoId:{type:"string"},isExample:{type:"boolean",default:!1}},edit:function({attributes:e,setAttributes:l}){const{videoId:a,isExample:t}=e;if(t)return(0,c.jsx)("img",{src:"https://docs.fuukei.org/short-code/bvcode.png",alt:"预览",style:{width:"100%",height:"auto",display:"block"}});const o=(0,i.useBlockProps)();let n=null;const d=(a||"").trim();return/^av\d+$/i.test(d)?n=`https://player.bilibili.com/player.html?avid=${d.replace(/^av/i,"")}&page=1&autoplay=0&danmaku=0`:/^BV[a-zA-Z0-9]+$/.test(d)&&(n=`https://player.bilibili.com/player.html?bvid=${d}&page=1&autoplay=0&danmaku=0`),(0,c.jsxs)(r.Fragment,{children:[(0,c.jsx)(i.InspectorControls,{children:(0,c.jsx)(s.PanelBody,{title:j.label,children:(0,c.jsx)(s.TextControl,{label:j.label,value:a,onChange:e=>l({videoId:e}),placeholder:j.placeholder})})}),(0,c.jsx)("div",{...o,children:n?(0,c.jsx)("div",{style:{position:"relative",padding:"30% 45%"},children:(0,c.jsx)("iframe",{src:n,sandbox:"allow-top-navigation allow-same-origin allow-forms allow-scripts",allowFullScreen:!0,style:{pointerEvents:"none",position:"absolute",width:"100%",height:"100%",left:0,top:0,border:"none",overflow:"hidden"}})}):(0,c.jsx)(s.TextControl,{label:j.label,value:a,onChange:e=>l({videoId:e}),placeholder:j.placeholder,help:a?j.error:""})})]})},save({attributes:e}){const l=e.videoId?.trim();if(!l)return null;let a="";return/^av\d+$/i.test(l)?a=`https://player.bilibili.com/player.html?avid=${l.replace(/^av/i,"")}&page=1&autoplay=0&danmaku=0`:/^BV[a-zA-Z0-9]+$/.test(l)&&(a=`https://player.bilibili.com/player.html?bvid=${l}&page=1&autoplay=0&danmaku=0`),a?(0,c.jsx)("div",{style:{position:"relative",padding:"30% 45%"},children:(0,c.jsx)("iframe",{src:a,sandbox:"allow-top-navigation allow-same-origin allow-forms allow-scripts",allowFullScreen:!0,style:{position:"absolute",width:"100%",height:"100%",left:0,top:0,border:"none",overflow:"hidden"}})}):null},example:{attributes:{videoId:"",isExample:!0}}})}catch(e){console.log(`发生错误${e}`),console.log(e.stack)}}()})();